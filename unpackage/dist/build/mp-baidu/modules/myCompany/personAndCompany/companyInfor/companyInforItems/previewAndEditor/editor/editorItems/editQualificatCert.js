(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["modules/myCompany/personAndCompany/companyInfor/companyInforItems/previewAndEditor/editor/editorItems/editQualificatCert"],{"47f3":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=(t._self._c,t._f("formatDate")(t.times));t.$mp.data=Object.assign({},{$root:{f0:i}})},a=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return a})},6971:function(t,e,i){"use strict";i.r(e);var s=i("d905"),a=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);e["default"]=a.a},aa11:function(t,e,i){},c396:function(t,e,i){"use strict";var s=i("aa11"),a=i.n(s);a.a},ca41:function(t,e,i){"use strict";i.r(e);var s=i("47f3"),a=i("6971");for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);i("c396");var n=i("2877"),l=Object(n["a"])(a["default"],s["a"],s["b"],!1,null,"34223792",null);e["default"]=l.exports},d905:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=l(i("9fef")),a=l(i("044d")),o=l(i("2711")),n=i("2f62");function l(t){return t&&t.__esModule?t:{default:t}}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},s=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),s.forEach(function(e){u(t,e,i[e])})}return t}function u(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var g=function(){return i.e("components/common/watch-login/watch-input1").then(i.bind(null,"56a1"))},h=function(){return i.e("components/common/imageUpload/imageUploadOne").then(i.bind(null,"1837"))},m=function(){return Promise.all([i.e("common/vendor"),i.e("components/common/imageUpload/imageUploadMore")]).then(i.bind(null,"1b51"))},c={name:"editQualificatCert",components:{wInput:g,imageUploadOne:h,imageUploadMore:m},data:function(){return{touxiang:"",touxiang1:s.default,lineRightArrow:a.default,xing:o.default,text:"",timeOutEvent:0,previewImgShow:!1,ImgSrc:"",num:"",authCompTypeText:"",authQualTypeTexta:"",authQualTypeText:"",index1:0,placker:"",Effec:"",Type:"",isQualTime:"",time:"",logos0:"",logos1:"",logoss0:"",logoss1:"",logoss2:"",logoss3:"",logoss4:"",logosss0:"",logosss1:"",logosss2:"",isImgShow:!1,isImgShows:!1,isImgShowss:!1,listData:{imageData:[],serverUrl:"https://img01.iambuyer.com/imgup/upLoad/fileUpload"},listDatas:{imageData:[],serverUrl:"https://img01.iambuyer.com/imgup/upLoad/fileUpload"},listDatass:{imageData:[],serverUrl:"https://img01.iambuyer.com/imgup/upLoad/fileUpload"},UserData:{id:17,ssoUserId:1000001126,authBrandName:"",authBrandContent:"",authCompType:"0",authQualType:"0",authQualNum:"",qualificationType:""},imgData:{},logo:"",list:[],dili:"",dili1:"",dili2:"",dili3:"",dili4:"",times:""}},props:["listid"],created:function(){1==this.listid?(this.isImgShow=!0,this.isImgShows=!0,this.isImgShowss=!0,console.log(this.placker),console.log(this.list.regAcodeStr)):(this.Effec=this.GET_MY.Effective,this.getmy())},computed:r({i18n:function(){return this.$t("qualificatCert")}},(0,n.mapGetters)(["GET_MY"])),mounted:function(){},watch:{GET_MY:{handler:function(t,e){console.log(t,e,"header----list"),this.Effec=t.Effective,this.placker=t.clickCity.idString,this.regPcode=t.clickCity.addrPcode,this.regCcode=t.clickCity.addrCcode,this.regAcode=t.clickCity.addrTcode,this.regAddr=t.clickCity.idaddress},deep:!0}},filters:{formatDate:function(t){var e=new Date(t),i=e.getFullYear(),s=e.getMonth()+1;s=s<10?"0"+s:s;var a=e.getDate();a=a<10?"0"+a:a;var o=e.getHours();o=o<10?"0"+o:o;var n=e.getMinutes();n=n<10?"0"+n:n;var l=e.getSeconds();return l=l<10?"0"+l:l,i+"-"+s+"-"+a}},methods:r({},(0,n.mapMutations)({setAddressBsShow:"setAddressBsShow",setclickCity:"setclickCity",setEffective:"setEffective"}),{getmy:function(){var e=this;if(t.getStorageSync("landRegist")){var i=JSON.parse(t.getStorageSync("landRegist"));console.log(i.user.id);t.showLoading({title:"加载中"}),t.request({url:this.api2+"/rest-rp/compAuth/"+i.user.id,method:"GET",header:{Authorization:"Bearer "+i.token},success:function(i){t.hideLoading(),console.log(i.data),e.list=i.data.content,e.$store.commit("setAuthen",e.list),e.UserData.authBrandName=e.list.authBrandName,e.UserData.authBrandContent=e.list.authBrandContent,0==e.list.authCompType?(e.UserData.authType="个体工商户",e.authCompTypeText="个体工商户"):1==e.list.authCompType&&(e.UserData.authType="企业",e.authCompTypeText="企业"),0==e.list.userType?(e.UserData.qualificationType="0",e.authQualTypeText="品牌商"):1==e.list.userType?(e.UserData.qualificationType="1",e.authQualTypeText="经销商"):2==e.list.userType?(e.UserData.qualificationType="2",e.authQualTypeText="厂家"):3==e.list.userType&&(e.UserData.qualificationType="3",e.authQualTypeText="其他"),e.UserData.authQualNum=e.list.authQualNum,0==e.list.isQualTime?e.times="永久":1==e.list.isQualTime&&(e.times=e.list.qualTime),e.dili=e.list.regPcodeStr+"-"+e.list.regCcodeStr+"-"+e.list.regAcodeStr,e.dili1=e.list.regPcode,e.dili2=e.list.regCcode,e.dili3=e.list.regAcode,e.dili4=e.list.regAddr;var s=[];s.push(e.list.authLegalNum),s.push(e.list.authLegalNum01);var a=[];s.map(function(t,e){if(t){var i={imgUrl:t,imgName:t};a.push(i)}}),e.listDatas.imageData=a,e.isImgShow=!0;var o=[];o.push(e.list.authInduImg01),o.push(e.list.authInduImg02),o.push(e.list.authInduImg03),o.push(e.list.authInduImg04),o.push(e.list.authInduImg05);var n=[];o.map(function(t,e){if(t){var i={imgUrl:t,imgName:t};n.push(i)}}),e.listDatass.imageData=n,e.isImgShows=!0;var l=[];l.push(e.list.authEnclosureImg01),l.push(e.list.authEnclosureImg02),l.push(e.list.authEnclosureImg03);var r=[];l.map(function(t,e){if(t){var i={imgUrl:t,imgName:t};r.push(i)}}),e.listData.imageData=r,e.isImgShowss=!0},fail:function(e){t.hideLoading(),t.showToast({title:"网络繁忙，请稍后",icon:"none",duration:1e3}),console.log(e,"网络繁忙，请稍后")}})}},getmymy:function(){var e=this;if(t.getStorageSync("landRegist")){var i=JSON.parse(t.getStorageSync("landRegist"));console.log(i.user.id);t.showLoading({title:"加载中"}),t.request({url:this.api2+"/rest-rp/compAuth/"+i.user.id,method:"GET",header:{Authorization:"Bearer "+i.token},success:function(i){t.hideLoading(),console.log(i.data),e.list=i.data.content,e.$store.commit("setAuthen",e.list)},fail:function(e){t.hideLoading(),t.showToast({title:"网络繁忙，请稍后",icon:"none",duration:1e3}),console.log(e,"网络繁忙，请稍后")}})}},area:function(){this.$store.commit("setAddressBsShow",!0),t.navigateTo({url:"/modules/myCompany/personAndCompany/companyInfor/companyInforItems/previewAndEditor/editor/editorItems/industryAddress/address"})},screenDataPopup:function(){console.log("证件有效期"),t.navigateTo({url:"/modules/myCompany/personAndCompany/companyInfor/companyInforItems/previewAndEditor/editor/editorItems/editvalidity"})},DataChangeType:function(t){var e=this;console.log("picker发送选择改变，携带值为",t.target.value),this.i18n.authType.map(function(i,s){String(s)===String(t.target.value)&&(console.log(i,"左侧选择数据"),e.UserData.authType=i.code,e.authCompTypeText=i.text,0==i.code?e.Type=1:1==i.code&&(e.Type=0))})},DataChangeShengFen:function(t){var e=this;this.i18n.qualificationType.map(function(i,s){String(s)===String(t.target.value)&&(console.log(i,"左侧选择数据"),e.UserData.qualificationType=i.code,e.authQualTypeText=i.text)})},addImage:function(t){console.log(t,"添加图片"),t.allImages&&(this.logo=t.allImages[0].imgName,console.log(this.logo))},deleteImage:function(t){console.log(t,"删除图片"),this.logo=""},addImagesss:function(t){console.log(t,"添加图片"),t.allImages&&(1==t.allImages.length?(this.logosss0=this.iamges[0].imgName,console.log(this.logoss0)):2==t.allImages.length?(this.logosss0=this.iamges[0].imgName,this.logosss1=this.iamges[1].imgName):3==t.allImages.length&&(this.logosss0=this.iamges[0].imgName,this.logosss1=this.iamges[1].imgName,this.logosss2=this.iamges[2].imgName))},deleteImagesss:function(t){console.log(t,"删除图片")},addImages:function(t){console.log(t,"添加图片"),t.allImages&&(1==t.allImages.length?this.logos0=t.allImages[0].imgName:(this.logos0=t.allImages[0].imgName,this.logos1=t.allImages[1].imgName),console.log(this.logos0),console.log(this.logos1))},deleteImages:function(t){console.log(t,"删除图片")},addImagess:function(t){console.log(t,"添加图片"),t.allImages&&(this.iamges=t.allImages,console.log(this.iamges),1==this.iamges.length?(this.logoss0=this.iamges[0].imgName,console.log(this.logoss0)):2==this.iamges.length?(this.logoss0=this.iamges[0].imgName,this.logoss1=this.iamges[1].imgName):3==this.iamges.length?(this.logoss0=this.iamges[0].imgName,this.logoss1=this.iamges[1].imgName,this.logoss2=this.iamges[2].imgName):4==this.iamges.length?(this.logoss0=this.iamges[0].imgName,this.logoss1=this.iamges[1].imgName,this.logoss2=this.iamges[2].imgName,this.logoss3=this.iamges[3].imgName):5==this.iamges.length&&(this.logoss0=this.iamges[0].imgName,this.logoss1=this.iamges[1].imgName,this.logoss2=this.iamges[2].imgName,this.logoss3=this.iamges[3].imgName,this.logoss4=this.iamges[4].imgName))},deleteImagess:function(t){console.log(t,"删除图片")},clickSaveQualificatCert:function(){var e=this;if(console.log("触发保存认证信息按钮"),""==this.UserData.authBrandName)return t.showToast({title:"请输入品牌名称",icon:"none",duration:1e3}),!1;if(""==this.UserData.authBrandContent)return t.showToast({title:"请输入推广内容",icon:"none",duration:1e3}),!1;if(""==this.authCompTypeText)return t.showToast({title:"请输入主体类型",icon:"none",duration:1e3}),!1;if(""==this.authQualTypeText)return t.showToast({title:"请选择主体身份",icon:"none",duration:1e3}),!1;if(""==this.logo&&""==this.list.authQualImg)return t.showToast({title:"请选择营业执照",icon:"none",duration:1e3}),!1;if(""==this.UserData.authQualNum)return t.showToast({title:"请输入统一信用社代码",icon:"none",duration:1e3}),!1;if(""==this.Effec&&""==this.times)return t.showToast({title:"请选择证件有效期",icon:"none",duration:1e3}),!1;if(void 0==this.placker&&""==this.dili)return t.showToast({title:"请选择注册地",icon:"none",duration:1e3}),!1;if(""==this.logos0&&""==this.listDatas.imageData)return t.showToast({title:"请选择法人身份证正反照",icon:"none",duration:1e3}),!1;if(""==this.logos1&&""==this.listDatas.imageData)return t.showToast({title:"请选择法人身份证正反照",icon:"none",duration:1e3}),!1;if(""==this.logoss0&&""==this.listDatass.imageData)return t.showToast({title:"请选择行业所需资质",icon:"none",duration:1e3}),!1;if(t.getStorageSync("landRegist")){var i=JSON.parse(t.getStorageSync("landRegist"));console.log(i.user.id),""==this.Effec?"永久"==this.times?this.isQualTime=0:(this.isQualTime=1,this.time=this.times):"永久"==this.Effec?this.isQualTime=0:(this.isQualTime=1,this.time=this.Effec),void 0==this.placker&&(this.regPcode=this.dili1,this.regCcode=this.dili2,this.regAcode=this.dili3,this.regAddr=this.dili4);var s={ssoUserId:i.user.id,authBrandName:this.UserData.authBrandName,authBrandContent:this.UserData.authBrandContent,authCompType:this.Type,userType:this.UserData.qualificationType,authQualImg:this.logo,authQualNum:this.UserData.authQualNum,isQualTime:this.isQualTime,qualTime:this.time,regPcode:this.regPcode,regCcode:this.regCcode,regAcode:this.regAcode,regAddr:this.regAddr,authLegalNum:this.logos0,authLegalNum01:this.logos1,authInduImg01:this.logoss0,authInduImg02:this.logoss1,authInduImg03:this.logoss2,authInduImg04:this.logoss3,authInduImg05:this.logoss4,authEnclosureImg01:this.logosss0,authEnclosureImg02:this.logosss1,authEnclosureImg03:this.logosss2};console.log(s),t.showLoading({title:"加载中"}),t.request({url:this.api2+"/rest-rp/compAuth/submitAuth",data:s,method:"POST",header:{Authorization:"Bearer "+i.token},success:function(i){t.hideLoading(),console.log(i.data),e.getmymy(),e.all()},fail:function(e){t.hideLoading(),t.showToast({title:"网络繁忙，请稍后",icon:"none",duration:1e3}),console.log(e,"网络繁忙，请稍后")}})}},all:function(){t.showModal({title:"提示",content:"您的认证信息已提交，审核需要1-2个工作日，请耐心等待~",confirmColor:" #02C2A2",showCancel:!1,confirmText:"知道了",success:function(e){t.navigateBack({})}})}})};e.default=c}).call(this,i("5486")["default"])}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'modules/myCompany/personAndCompany/companyInfor/companyInforItems/previewAndEditor/editor/editorItems/editQualificatCert-create-component',
    {
        'modules/myCompany/personAndCompany/companyInfor/companyInforItems/previewAndEditor/editor/editorItems/editQualificatCert-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('5486')['createComponent'](__webpack_require__("ca41"))
        })
    },
    [['modules/myCompany/personAndCompany/companyInfor/companyInforItems/previewAndEditor/editor/editorItems/editQualificatCert-create-component']]
]);
