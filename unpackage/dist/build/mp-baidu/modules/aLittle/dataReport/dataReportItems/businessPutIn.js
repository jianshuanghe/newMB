(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["modules/aLittle/dataReport/dataReportItems/businessPutIn"],{"0982":function(t,e,s){"use strict";s.r(e);var n=s("a649"),a=s.n(n);for(var i in n)"default"!==i&&function(t){s.d(e,t,function(){return n[t]})}(i);e["default"]=a.a},"0a39":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},a=[];s.d(e,"a",function(){return n}),s.d(e,"b",function(){return a})},"137d":function(t,e,s){"use strict";var n=s("7568"),a=s.n(n);a.a},"5cc0":function(t,e,s){"use strict";s.r(e);var n=s("0a39"),a=s("0982");for(var i in a)"default"!==i&&function(t){s.d(e,t,function(){return a[t]})}(i);s("137d");var o=s("2877"),c=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"4be64757",null);e["default"]=c.exports},7568:function(t,e,s){},a649:function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(s("42ee")),a=u(s("c88b")),i=u(s("98e0")),o=u(s("ac0d")),c=s("2f62");function u(t){return t&&t.__esModule?t:{default:t}}function r(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},n=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(s).filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable}))),n.forEach(function(e){l(t,e,s[e])})}return t}function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var h={name:"businessPutIn",data:function(){return{getMyPutInBusinessData:[],businessDataList:[],check1:!1,check2:!0,check:n.default,checked:a.default,checkedItems:i.default,arr:[],close:o.default,checkAll:!1,clickItemsIndex:"",dataTrendKanban:{userId:"",starTime:"",endTime:"",instIds:""},dataTrend:{lineType0:"2",lineType1:"0"}}},components:{},computed:r({},(0,c.mapGetters)(["TRENDKANBAN","PUTINBUSINESS"])),watch:{},created:function(){this.Putinname(),this.dataTrendKanban.starTime=this.getDate(7),this.dataTrendKanban.endTime=this.getDate(0)},mounted:function(){},methods:r({},(0,c.mapMutations)({setBusinessPutInShow:"setBusinessPutInShow",setTrendKan:"setTrendKan",setKanBanData:"setKanBanData",setInstIds:"setInstIds",setDataReportItemsData:"setDataReportItemsData",setLoadingShow:"setLoadingShow",setLoadingText:"setLoadingText"}),{Putinname:function(){var e=this;if(t.getStorageSync("landRegist")){var s=JSON.parse(t.getStorageSync("landRegist"));console.log(s.user.id),t.showLoading({title:"加载中"}),t.request({url:this.api2+"/rest-rp/putIn/selectPutInInstList?userId="+s.user.id,method:"GET",header:{Authorization:"Bearer "+s.token},success:function(s){t.hideLoading(),console.log(s.data),s.data.content.map(function(t,s){var n={value:String(t.id),name:t.title,checked:!1};e.getMyPutInBusinessData.push(n)})},fail:function(e){t.hideLoading(),t.showToast({title:"网络繁忙，请稍后",icon:"none",duration:1e3}),console.log(e,"网络繁忙，请稍后")}})}},labelBtn2:function(t,e){var s=this;console.log(t,e,"nameindex"),this.businessDataList.join(",").indexOf(t)>-1?this.businessDataList.map(function(t,n){s.getMyPutInBusinessData[e].checked=!0}):this.getMyPutInBusinessData[e].checked=!1,0===this.businessDataList.length&&this.checkType(2)},checkboxChange2:function(t){this.businessDataList=t.detail.value,console.log(this.businessDataList,"businessDataList")},getDate:function(t){var e=new Date;e.setTime(e.getTime()-24*t*60*60*1e3);var s="";s=Number(e.getMonth()+1)<10?"0"+String(e.getMonth()+1):String(e.getMonth()+1);var n="";return n=Number(e.getDate())<10?"0"+String(e.getDate()):String(e.getDate()),e.getFullYear()+"-"+s+"-"+n},clickCloseMask:function(){this.$store.commit("setBusinessPutInShow",!1),console.log("触发商机投放关闭")},checkType:function(t){if(1===t&&!1===this.check1){for(var e in console.log("全部"),this.check1=!this.check1,!0===this.check2&&(this.check2=!1),this.getMyPutInBusinessData)this.businessDataList.push(this.getMyPutInBusinessData[e].value),this.getMyPutInBusinessData[e].checked=!0;console.log(this.businessDataList,"查看目前已选中的商机--------------全部")}else if(2===t&&!1===this.check2){for(var s in this.businessDataList=[],console.log("自定义"),this.getMyPutInBusinessData)this.getMyPutInBusinessData[s].checked=!1;this.check2=!this.check2,!0===this.check1&&(this.check1=!1),console.log(this.businessDataList,"查看目前已选中的商机--------------自定义")}},clickClose:function(){console.log("触发了关闭按钮"),this.clickCloseMask()},clickReset:function(){for(var t in console.log("触发重置按钮"),this.businessDataList=[],this.getMyPutInBusinessData)this.getMyPutInBusinessData[t].checked=!1;this.check2=!0,!0===this.check1&&(this.check1=!1),console.log(this.businessDataList,"查看目前已选中的商机--------------重置")},getMyPutInBusiness:function(){var t=this;this.$store.commit("setLoadingShow",!0);var e=JSON.parse(localStorage.getItem("landRegist"));console.log(e.user.id),axios.get(this.api2+"/rest-rp/putIn/selectPutInInstList?userId="+e.user.id).then(function(e){if(console.log(e),"200"===e.data.ret){t.getMyPutInBusinessData=e.data.content;for(var s=0;s<t.getMyPutInBusinessData.length;s++)t.arr.push(!1);t.$store.commit("setLoadingShow",!1)}else t.$store.commit("setLoadingShow",!1),Toast(e.data.msg)}).catch(function(e){t.$store.commit("setLoadingShow",!1),Toast("网络繁忙，请稍后"),console.log(e,"网络繁忙，请稍后")})},getDataTrendKanBan:function(){var t=this;console.log("获取推广项目看板数据");var e=this.dataTrendKanban;axios.post(this.api2+"/rest-rp/putIn/dataInfo",e).then(function(e){console.log(e.data,"看板数据");var s=e.data;t.$store.commit("setKanBanData",s),t.$store.commit("setLoadingShow",!1),console.log("数据看板数据"),t.getTrendData()}).catch(function(e){t.$store.commit("setLoadingShow",!1),Toast("网络繁忙，请稍后"),console.log(e,"网络繁忙，请稍后")})},getTrendData:function(){var t=this;console.log("获取数据趋势数据");var e=JSON.parse(localStorage.getItem("landRegist"));console.log(e.user.id);var s=this.dataTrendKanban;s.lineType0=this.dataTrend.lineType0,s.lineType1=this.dataTrend.lineType1,axios.post(this.api2+"/rest-rp/putIn/dataInfoLineList",s).then(function(e){t.$store.commit("setLoadingShow",!1),console.log("数据趋势数据");var s=e.data.content;t.$store.commit("setDataReportItemsData",s),t.clickCloseMask()}).catch(function(e){t.$store.commit("setLoadingShow",!1),Toast("网络繁忙，请稍后"),console.log(e,"网络繁忙，请稍后")})},clickConfirm:function(){console.log("触发了确认按钮");var t=[];for(var e in this.arr)!0===this.arr[e]&&t.push(this.getMyPutInBusinessData[e].id);console.log(this.businessDataList.join(",")),this.$store.commit("setPutinname",this.businessDataList.join(",")),this.clickCloseMask()}})};e.default=h}).call(this,s("5486")["default"])}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'modules/aLittle/dataReport/dataReportItems/businessPutIn-create-component',
    {
        'modules/aLittle/dataReport/dataReportItems/businessPutIn-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('5486')['createComponent'](__webpack_require__("5cc0"))
        })
    },
    [['modules/aLittle/dataReport/dataReportItems/businessPutIn-create-component']]
]);
