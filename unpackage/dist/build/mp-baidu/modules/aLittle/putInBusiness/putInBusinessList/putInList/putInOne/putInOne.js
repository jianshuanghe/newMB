(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["modules/aLittle/putInBusiness/putInBusinessList/putInList/putInOne/putInOne"],{"24dd":function(t,o,e){"use strict";e.r(o);var n=e("5de7"),i=e("2d3c");for(var a in i)"default"!==a&&function(t){e.d(o,t,function(){return i[t]})}(a);e("acee");var s=e("2877"),c=Object(s["a"])(i["default"],n["a"],n["b"],!1,null,null,null);o["default"]=c.exports},"2d3c":function(t,o,e){"use strict";e.r(o);var n=e("a0bc"),i=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(o,t,function(){return n[t]})}(a);o["default"]=i.a},"2e2a":function(t,o,e){},"5de7":function(t,o,e){"use strict";var n=function(){var t=this,o=t.$createElement,e=(t._self._c,t.__map(t.listData,function(o,e){var n=t._f("formatDate")(o.updateTime);return{$orig:t.__get_orig(o),f0:n}}));t.$mp.data=Object.assign({},{$root:{l0:e}})},i=[];e.d(o,"a",function(){return n}),e.d(o,"b",function(){return i})},a0bc:function(t,o,e){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;e("2f62");var n=s(e("4957")),i=s(e("6978")),a=s(e("c999"));function s(t){return t&&t.__esModule?t:{default:t}}function c(t){return u(t)||l(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function u(t){if(Array.isArray(t)){for(var o=0,e=new Array(t.length);o<t.length;o++)e[o]=t[o];return e}}var d={data:function(){return{check:n.default,checked:i.default,toufang:a.default,listData:[],putInList:[],scrollTop:0,old:{scrollTop:0},loadingText:"加载更多...",information:{loadingText:"加载更多...",search:{pageNum:0,searchCondition:{page:"1"}},listData:""},searchCondition:{page:"1",name:""},arr:[],pageNum:0,pageList:[],items:{id:0,love:!1},clickRecordsInFor:[]}},props:["msgData","bookid"],created:function(){console.log(this.bookid),this.getdata()},filters:{formatDate:function(t){var o=new Date(t),e=o.getFullYear(),n=o.getMonth()+1;n=n<10?"0"+n:n;var i=o.getDate();i=i<10?"0"+i:i;var a=o.getHours();a=a<10?"0"+a:a;var s=o.getMinutes();s=s<10?"0"+s:s;var c=o.getSeconds();return c=c<10?"0"+c:c,e+"-"+n+"-"+i+"  "+a+" : "+s+" : "+c}},methods:{gotochuang:function(){console.log("to选择模版(1/4)"),t.navigateTo({url:"/modules/createBusiness/selectTemplate"})},getdata:function(){var o=this;if(t.getStorageSync("landRegist")){var e=JSON.parse(t.getStorageSync("landRegist"));console.log(e.user.id),t.request({url:this.api2+"/rest-rp/putIn/putInInstList?userId="+e.user.id,method:"GET",header:{Authorization:"Bearer "+e.token},success:function(t){console.log(t.data),t.data.content.map(function(t,e){if(String(t.instrucId)==String(o.bookid)){var n={checked:!0,updateTime:t.updateTime,cteateMan:t.cteateMan,instContent:t.instContent,instrucId:t.instrucId,instrucTitle:t.instrucTitle,tempName:t.tempName,bannerImg:t.bannerImg};o.putInList.push(n)}else n={checked:!1,updateTime:t.updateTime,cteateMan:t.cteateMan,instContent:t.instContent,instrucId:t.instrucId,instrucTitle:t.instrucTitle,tempName:t.tempName,bannerImg:t.bannerImg};o.listData.push(n)}),console.log(o.listData)},fail:function(t){console.log(t,"网络繁忙，请稍后")}})}},Nextstep:function(){if(0==this.putInList.length)t.showToast({title:"请选择投放内容",icon:"none",duration:1e3});else{console.log(this.putInList),this.arr=[],this.$emit("putInstates","2"),this.$emit("putIn","2");for(var o=0;o<this.listData.length;o++)1==this.listData[o].checked&&(this.arr.push(this.listData[o]),console.log(this.arr));console.log(this.arr),this.$store.commit("setputInstate",this.arr)}},upper:function(t){console.log(t)},loadMore:function(){var o=this;console.log("触发加载更多。。。");var e=this.information.search.pageNum,n=Number(this.information.search.searchCondition.page);console.log(n,"当前页数1"),console.log(e,"总页数1"),console.log(this.information,"头责任的加载更多，原始数据"),n<e?setTimeout(function(){o.getMoreList(o.information)},500):(this.loadingText="已经没有数据了",this.information.loadingText=this.loadingText,t.showToast({title:"已经没有数据了！",icon:"none",duration:1e3}))},scroll:function(t){console.log(t),this.old.scrollTop=t.detail.scrollTop},goTop:function(t){this.scrollTop=this.old.scrollTop,console.log(this.scrollTop-50),this.$nextTick(function(){this.scrollTop=0})},goScrollTop:function(t){this.scrollTop=this.old.scrollTop,console.log(this.scrollTop-50),this.$nextTick(function(){this.scrollTop=Number(this.scrollTop-50)})},getList:function(o){var e=this,n={activityTitel:"",activityState:"1"};t.showLoading({title:"加载中"}),t.request({url:this.api2+"/activity/list?page="+this.searchCondition.page,data:n,method:"POST",header:{},success:function(n){console.log(n.data),o.listData=n.data.rows;var i=c(n.data.rows);if(e.clickRecordsInFor.length<e.pageList.length){console.log("缓存中的数据小于缓存的");for(var a=0;a<e.pageList.length;a++){console.log(e.pageList[a]);var s={id:0,love:!1};s.id=e.pageList[a].id,e.clickRecordsInFor.push(s),console.log(e.clickRecordsInFor,"用户行为数据")}t.setStorageSync("clickRecordsInFor",JSON.stringify(e.clickRecordsInFor))}else e.clickRecordsInFor.length>=e.pageList.length&&(console.log("缓存中的数据大于等于接口每次返回的数据"),e.clickRecordsInFor.map(function(t,o){console.log(t.id,"打印缓存中的id"),i.map(function(o,e){o&&(console.log(o.id,"打印接口中的id"),o.id===t.id&&i.splice(e,1))}),console.log(i,"去重后的数据")}),i.length>0&&(console.log("去重后剩余数据"),i.map(function(o,n){var i={id:0,love:!1};i.id=o.id,e.clickRecordsInFor.push(i),t.setStorageSync("clickRecordsInFor",JSON.stringify(e.clickRecordsInFor))})));o.search.pageNum=e.pageNums(n.data.total),console.log(n.data.total,o.search.pageNum),1===o.search.pageNum&&(e.loadingText="已经没有数据了",o.loadingText="已经没有数据了!"),t.hideLoading(),e.$store.commit("setInformation",o)},fail:function(o){t.hideLoading(),t.showToast({title:"网络繁忙，请稍后",icon:"none",duration:1e3}),console.log(o,"网络繁忙，请稍后")}})},getMoreList:function(o){var e=this;console.log(o,"数显数据函数的参数More"),o.search.searchCondition.page=String(parseInt(o.search.searchCondition.page)+1);var n={activityTitel:"",activityState:"1"};t.showLoading({title:"加载中"}),t.request({url:this.api2+"/activity/list?page="+o.search.searchCondition.page,data:n,method:"POST",header:{},success:function(n){console.log(n.data),o.listData=o.listData.concat(n.data.rows);var i=c(n.data.rows);console.log("缓存中的数据大于等于接口每次返回的数据"),e.clickRecordsInFor.map(function(t,o){console.log(t.id,"打印缓存中的id"),i.map(function(o,e){o&&(console.log(o.instId,"打印接口中的id"),o.id===t.id&&i.splice(e,1))}),console.log(i,"去重后的数据")}),i.length>0&&(console.log(i,"去重后剩余数据"),i.map(function(o,n){var i={id:0,love:!1};i.id=o.id,e.clickRecordsInFor.push(i),t.setStorageSync("clickRecordsInFor",JSON.stringify(e.clickRecordsInFor))})),t.hideLoading(),e.$store.commit("setInformation",o),e.goScrollTop()},fail:function(o){t.hideLoading(),t.showToast({title:"网络繁忙，请稍后",icon:"none",duration:1e3}),console.log(o,"网络繁忙，请稍后")}})},checkboxChange:function(t){this.putInList=t.detail.value,console.log(this.putInList,"putInList")},labelBtn:function(t,o){var e=this;console.log(t,o,"nameindex"),this.putInList.join(",").indexOf(t)>-1?this.putInList.map(function(t,n){e.listData[o].checked=!0}):this.listData[o].checked=!1}}};o.default=d}).call(this,e("5486")["default"])},acee:function(t,o,e){"use strict";var n=e("2e2a"),i=e.n(n);i.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'modules/aLittle/putInBusiness/putInBusinessList/putInList/putInOne/putInOne-create-component',
    {
        'modules/aLittle/putInBusiness/putInBusinessList/putInList/putInOne/putInOne-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('5486')['createComponent'](__webpack_require__("24dd"))
        })
    },
    [['modules/aLittle/putInBusiness/putInBusinessList/putInList/putInOne/putInOne-create-component']]
]);
