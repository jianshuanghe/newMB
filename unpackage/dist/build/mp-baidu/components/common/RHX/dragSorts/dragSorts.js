(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/common/RHX/dragSorts/dragSorts"],{"04dc":function(t,e,r){"use strict";r.r(e);var i=r("2536"),n=r.n(i);for(var o in i)"default"!==o&&function(t){r.d(e,t,function(){return i[t]})}(o);e["default"]=n.a},2536:function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(r("790a"));function n(t){return t&&t.__esModule?t:{default:t}}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},i=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),i.forEach(function(e){c(t,e,r[e])})}return t}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var u=function(){return Promise.all([r.e("common/vendor"),r.e("components/common/RHX/moduleIconLibrary/moduleIconLibrary")]).then(r.bind(null,"9d5d"))},s=function(){return Promise.all([r.e("common/vendor"),r.e("components/common/RHX/moduleItems/moduleItems")]).then(r.bind(null,"9be4"))},a={name:"drag-sort",mixins:[],components:{moduleIconLibrary:u,moduleItems:s},data:function(){return{dragSortRefresh:!0,iconLibrary:-1,iconLibraryShow:!1,dataLists:this.dataList,isSelect:-1,iconSrc:i.default,old:{tapIndex:-1},disable:this.disabled,styleObject:{color:"red",fontSize:"13px",borderTop:"0.5px solid #E2E2E2"},style:{background:"red"},direction:"all",windowWidth:100,height:60,currentList:[],active:-1,index:0,topY:0,topX:0,deviationX:0,deviationY:0}},computed:{boxHeight:function(){return 0!==this.list.length?!0===this.iconLibraryShow?Math.ceil(Number(this.list.length)/1)*this.height+114+"px":Math.ceil(Number(this.list.length)/1)*this.height+"px":0}},props:["disabled","selIconList","list","boxStyle","pickerCancel"],watch:{disabled:{handler:function(t,e){console.log(t,e),this.disable=t},deep:!0},pickerCancel:{handler:function(t,e){console.log(t,e,"-----------pickerCancel--------"),!1===t&&this.currentList.map(function(t,e){t.isShow=1})},deep:!0}},created:function(){},mounted:function(){var e=t.getSystemInfoSync();this.windowWidth=e.windowWidth,t.getStorageSync("currentList")?(this.currentList=t.getStorageSync("currentList"),console.log(this.currentList,"asdada")):this.currentList=this.list},updated:function(){},filters:{},beforeDestroy:function(){console.log("页面销毁之前清除缓存数据--------------currentList")},methods:{onUpdateCurrentList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentList,r=[];for(var i in e){var n=Math.ceil((Number(i)+1)/1)-1;r.push(o({},e[i],{y:n*this.height}))}this.currentList=r;var c=JSON.parse(JSON.stringify(this.currentList));c.sort(function(t,e){return t.SortNumber-e.SortNumber}),t.setStorageSync("currentList",c),this.dragSortRefresh=!1,this.$nextTick(function(){this.dragSortRefresh=!0})},moveUpdateCurrentList:function(t){for(var e in this.currentList){var r=void 0;r=this.currentList[e].SortNumber||0===this.currentList[e].SortNumber?this.currentList[e].SortNumber:Number(e);o({},this.currentList[e]);this.currentList[e].y=(Math.ceil((Number(r)+1)/1)-1)*this.height}},touchstart:function(e){var r=this,i=t.createSelectorQuery().in(this);i.select("#drag").boundingClientRect(),i.exec(function(t){r.topY=t[0].top;var i=e.mp.touches[0].clientY-t[0].top;r.deviationY=i%r.height,r.active=Number(e.currentTarget.dataset.index),r.index=Number(e.currentTarget.dataset.index)})},touchmove:function(t){var e=this;if(this.iconLibrary=-1,this.iconLibraryShow=!1,!(this.active<0)){var r=t.mp.touches[0].clientY-this.topY,i=r-0;this.currentList[this.active].y=i,this.currentList[this.active].animation=!1,this.currentList.every(function(t,r){var n=Math.abs(i-t.y);if(n>0&&n<=10&&e.active!=r){var o=e.currentList[r].SortNumber;return e.currentList.every(function(t,i){return e.currentList[e.active].SortNumber<e.currentList[r].SortNumber?e.currentList[i].SortNumber>e.currentList[e.active].SortNumber&&e.currentList[i].SortNumber<=e.currentList[r].SortNumber&&t.SortNumber--:e.currentList[i].SortNumber<e.currentList[e.active].SortNumber&&e.currentList[i].SortNumber>=e.currentList[r].SortNumber&&t.SortNumber++,!0},e),e.currentList[e.active].SortNumber=o,e.moveUpdateCurrentList(o),!1}return!0},this)}},touchend:function(e){this.currentList[this.active]&&(this.currentList[this.active].animation=!0),this.moveUpdateCurrentList(-1),this.active=-1;var r=JSON.parse(JSON.stringify(this.currentList));r.sort(function(t,e){return t.SortNumber-e.SortNumber}),t.setStorageSync("currentList",r)}}};e.default=a}).call(this,r("5486")["default"])},"3d02":function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},n=[];r.d(e,"a",function(){return i}),r.d(e,"b",function(){return n})},"511f":function(t,e,r){"use strict";var i=r("7247c"),n=r.n(i);n.a},"7247c":function(t,e,r){},"916e":function(t,e,r){"use strict";r.r(e);var i=r("3d02"),n=r("04dc");for(var o in n)"default"!==o&&function(t){r.d(e,t,function(){return n[t]})}(o);r("511f");var c=r("2877"),u=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,"ba17aeb8",null);e["default"]=u.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/common/RHX/dragSorts/dragSorts-create-component',
    {
        'components/common/RHX/dragSorts/dragSorts-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('5486')['createComponent'](__webpack_require__("916e"))
        })
    },
    [['components/common/RHX/dragSorts/dragSorts-create-component']]
]);
