(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-landRegistration-mp-landRegistration"],{"0223":function(t,n,i){"use strict";var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("v-uni-view",{staticClass:"landRegistration-content"},[i("v-uni-view",{staticClass:"landRegistration"},[i("v-uni-view",{staticClass:"phone-passWord-LR"},[i("v-uni-view",{staticClass:"passWord-LR"},[i("v-uni-view",{staticClass:"top-PWLR"},[i("v-uni-image",{attrs:{src:t.logo,alt:"",mode:"widthFix"}})],1),i("div",{staticClass:"nameLand"},[t._v("欢迎登录")])],1),i("v-uni-view",{staticClass:"landBtn"},[i("v-uni-view",{})],1)],1)],1)],1)},a=[];i.d(n,"a",function(){return e}),i.d(n,"b",function(){return a})},"14b8":function(t,n,i){"use strict";i.r(n);var e=i("b9e4"),a=i.n(e);for(var o in e)"default"!==o&&function(t){i.d(n,t,function(){return e[t]})}(o);n["default"]=a.a},2038:function(t,n,i){var e=i("a740");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=i("4f06").default;a("fe7bbbac",e,!0,{sourceMap:!1,shadowMode:!1})},a740:function(t,n,i){n=t.exports=i("2350")(!1),n.push([t.i,".landRegistration-content[data-v-8ef2369c]{position:relative;width:%?750?%;height:100vh;background:#fff}.landRegistration[data-v-8ef2369c]{position:relative;padding:%?18?% %?40?%;background:#fff}.phone-passWord-LR[data-v-8ef2369c]{position:relative;width:100%;margin-top:12vw}.phonw-LR[data-v-8ef2369c]{position:relative;width:100%;margin-top:6vw}.top-PLR[data-v-8ef2369c]{position:relative;width:100%}.top-PLR>p[data-v-8ef2369c]{font-family:PingFangSC-Semibold;font-size:6.4vw;color:#2e2e30;line-height:10vw}.LR-cont[data-v-8ef2369c]{position:relative;width:100%;margin-top:8vw}.inputPhone-PLR[data-v-8ef2369c]{position:relative;width:100%;margin-top:5vw}.inputYan-PLR[data-v-8ef2369c]{position:relative;width:100%;margin-top:6vw}.yan-left-PLR[data-v-8ef2369c]{position:relative;width:60%}.ma-right-PLR[data-v-8ef2369c]{position:relative;width:40%}.yazm[data-v-8ef2369c]{font-family:PingFangSC-Light;font-size:4vw;color:#ccc;line-height:12vw;text-align:right}.re-yazm[data-v-8ef2369c]{font-family:PingFangSC-Light;font-size:4vw;color:#02c2a2;line-height:12vw;text-align:right}.switchPassWorld[data-v-8ef2369c]{position:relative;width:100%}.switchPassWorld>p[data-v-8ef2369c]{font-family:PingFangSC-Light;font-size:3.5vw;color:#02c2a2;line-height:12vw;width:50%}.passWord-LR[data-v-8ef2369c]{position:relative;width:100%}.top-PWLR[data-v-8ef2369c]{position:relative;width:%?150?%;margin-top:6vw;margin:auto}.top-PWLR>uni-image[data-v-8ef2369c]{position:relative;width:%?150?%;width:100%}.nameLand[data-v-8ef2369c]{font-family:PingFang-SC-Medium;font-size:%?36?%;color:#5d5d5d;letter-spacing:0;text-align:center;line-height:%?40?%;margin-top:%?30?%}.landBtn[data-v-8ef2369c]{position:relative;width:100%;margin-top:%?100?%}.land-btn-box[data-v-8ef2369c]{position:relative;width:%?550?%;height:%?90?%;margin-bottom:6vw;margin-top:%?100?%;font-size:%?32?%;color:#fff;letter-spacing:0;text-align:center;line-height:%?90?%;background:#02c2a2;margin:auto;border:none;border-radius:0}.land-btn-box>p[data-v-8ef2369c]{font-family:PingFangSC-Regular;font-size:%?32?%;color:#fff;letter-spacing:0;text-align:center;line-height:%?90?%;background:#02c2a2;border-radius:0}.wx-land[data-v-8ef2369c]{font-family:PingFangSC-Regular;font-size:4.266vw;color:#02c2a2!important;letter-spacing:0;text-align:center;line-height:12vw;border:1px solid #e2e2e2;background:#fff!important}.text-Right[data-v-8ef2369c]{text-align:right}.skipLand[data-v-8ef2369c]{position:relative;width:100%;margin-top:4vw}.skipLand>p[data-v-8ef2369c]{position:relative;width:100%;text-align:center;font-size:4vw;line-height:12vw;color:#15d49f}",""])},ad0f:function(t,n,i){"use strict";i.r(n);var e=i("0223"),a=i("14b8");for(var o in a)"default"!==o&&function(t){i.d(n,t,function(){return a[t]})}(o);i("e0ba");var r=i("2877"),s=Object(r["a"])(a["default"],e["a"],e["b"],!1,null,"8ef2369c",null);n["default"]=s.exports},b9e4:function(t,n,i){"use strict";(function(t){var e=i("288e");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e(i("f499")),o={name:"",components:{},data:function(){return{logo:this.Static+"landRegistration/logo.png",phoneIsGet:!0}},created:function(){},mounted:function(){t.log(this.api2,"全局数据"),this.getSessionKey()},methods:{getSessionKey:function(){uni.login({provider:"weixin",scopes:"auth_base",success:function(n){t.log(n,"微信返回的code mounted")}})},bindGetUserInfo:function(n){t.log(n)},getPhoneNumber:function(n){if(t.log(n),"getPhoneNumber:fail user deny"==n.detail.errMsg)t.log("用户拒绝提供手机号");else{t.log("用户同意提供手机号"),t.log(n);var i=(0,a.default)(n.detail.encryptedData),e=(0,a.default)(n.detail.iv);t.log(i,e,"带你花------------11"),this.clickMpLand(i,e)}},clickMpLand:function(n,i){uni.showLoading({title:"登陆中···"});t.log("触发小程序登录")},mpBDLand:function(n,i){t.log("百度小程序登录"),uni.showLoading({title:"登陆中···"});var e=this;uni.getUserInfo({success:function(i){t.log(i,"拉取到的用户信息");var o=uni.getStorageSync("sessionKey");t.log(o);var r={openId:o.openid,baiduUserEncryptedData:i.data,sessionKey:o.session_key,baiduPhoneEncryptedData:JSON.parse(n)};t.log(r,"-------------------------------------------"),uni.request({url:e.api2+"/rest-rp/mbUser/baiduMiniLogin",data:r,method:"POST",header:{},success:function(n){if(t.log(n.data),"200"===String(n.data.ret)){var i={randomKey:n.data.content.randomKey,token:n.data.content.token,user:{id:n.data.content.userId}};uni.setStorageSync("landRegist",(0,a.default)(i)),e.getUserData()}else"400"===String(n.data.ret)?(uni.hideLoading(),e.phoneIsGet=!1,uni.showToast({title:"请同意获取手机号注册，再登录！",icon:"none",duration:500})):"500"===String(n.data.ret)?(uni.hideLoading(),t.log(n.data,"---------------------response.data---------------------"),t.log("------------------------5000-----------------------"),uni.showToast({title:"网络开小差了，请再次点击登录！",icon:"none",duration:500})):(uni.hideLoading(),uni.showToast({title:n.data.msg,icon:"none",duration:500}))},fail:function(n){uni.hideLoading(),uni.showToast({title:"网络繁忙，请稍后",icon:"none",duration:1e3}),t.log(n,"网络繁忙，请稍后")}})}})},mpWxLand:function(n,i){t.log("微信小程序登录"),uni.showLoading({title:"登陆中···"});var e=this;uni.getUserInfo({provider:"weixin",success:function(o){t.log(o,"拉取到的用户信息");var r=uni.getStorageSync("sessionKey"),s={sessionKey:r,nickname:o.userInfo.nickName,compLogo:o.userInfo.avatarUrl,signature:o.signature,rawData:o.rawData,phoneEncryptedData:JSON.parse(n),phoneIv:JSON.parse(i),userEncryptedData:o.encryptedData,userIv:o.iv};uni.request({url:e.api2+"/rest-rp/mbUser/wxMiniLogin",data:s,method:"POST",header:{},success:function(n){if(t.log(n.data),"200"===String(n.data.ret)){var i={randomKey:n.data.content.randomKey,token:n.data.content.token,user:{id:n.data.content.userId}};uni.setStorageSync("landRegist",(0,a.default)(i)),e.getUserData()}else"400"===String(n.data.ret)?(uni.hideLoading(),e.phoneIsGet=!1,uni.showToast({title:"请同意获取手机号注册，再登录！",icon:"none",duration:500})):"500"===String(n.data.ret)?(uni.hideLoading(),t.log(n.data,"---------------------response.data---------------------"),t.log("------------------------5000-----------------------"),uni.showToast({title:"网络开小差了，请再次点击登录！",icon:"none",duration:500})):(uni.hideLoading(),uni.showToast({title:n.data.msg,icon:"none",duration:500}))},fail:function(n){uni.hideLoading(),uni.showToast({title:"网络繁忙，请稍后",icon:"none",duration:1e3}),t.log(n,"网络繁忙，请稍后")}})}})},mpTtLand:function(){t.log("头条小程序登录")},mpBdLand:function(){t.log("百度小程序登录")},mpApLand:function(){t.log("支付宝小程序登录")},getUserData:function(){t.log("获取用户信息，全部");var n=JSON.parse(uni.getStorageSync("landRegist"));t.log(n.user.id),uni.request({url:this.api2+"/rest-rp/user/"+n.user.id,data:{},header:{Authorization:"Bearer "+n.token},success:function(n){if(t.log(n.data),"200"===String(n.data.ret)){var i=n.data.content;uni.setStorageSync("UserData",(0,a.default)(i)),uni.showToast({title:"登陆成功",icon:"none",duration:500}),uni.navigateBack({delta:1}),setTimeout(function(){uni.reLaunch({url:"/pages/mbc/home"})},500)}else uni.hideLoading(),uni.showToast({title:n.data.msg,icon:"none",duration:500})},fail:function(n){uni.hideLoading(),uni.showToast({title:"网络繁忙，请稍后",icon:"none",duration:1e3}),t.log(n,"网络繁忙，请稍后")}})}}};n.default=o}).call(this,i("5a52")["default"])},e0ba:function(t,n,i){"use strict";var e=i("2038"),a=i.n(e);a.a}}]);