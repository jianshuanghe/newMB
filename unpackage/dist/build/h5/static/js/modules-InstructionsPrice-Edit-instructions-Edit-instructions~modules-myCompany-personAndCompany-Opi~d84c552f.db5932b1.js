(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["modules-InstructionsPrice-Edit-instructions-Edit-instructions~modules-myCompany-personAndCompany-Opi~d84c552f"],{"03a0":function(n,e,t){"use strict";var a=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"image-upload"},[n.typeImg?n._e():t("v-uni-view",{staticClass:"imageUploadContainer"},[t("v-uni-view",{staticClass:"imageUploadList"},[n._l(n.imageList,function(e,a){return t("v-uni-view",{key:a,staticClass:"imageItem"},[t("v-uni-image",{class:{dragging:n.isDragging(a)},attrs:{src:e.imgUrl||e,draggable:"false","data-index":a},on:{touchstart:function(e){arguments[0]=e=n.$handleEvent(e),n.start.apply(void 0,arguments)},touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=n.$handleEvent(e),n.move.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=n.$handleEvent(e),n.stop.apply(void 0,arguments)},click:function(e){arguments[0]=e=n.$handleEvent(e),n.previewImage.apply(void 0,arguments)}}}),n.isShowDel?t("v-uni-view",{staticClass:"imageDel",attrs:{"data-index":a},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.deleteImage.apply(void 0,arguments)}}},[t("v-uni-image",{attrs:{src:n.close}})],1):n._e()],1)}),n.isShowAdd?t("v-uni-view",{staticClass:"imageUpload",on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.selectImage.apply(void 0,arguments)}}},[t("v-uni-image",{attrs:{src:n.jiaadd,mode:""}})],1):n._e()],2),n.showMoveImage?t("v-uni-image",{staticClass:"moveImage",style:{left:n.posMoveImageLeft,top:n.posMoveImageTop},attrs:{src:n.moveImagePath}}):n._e()],1),1===Number(n.typeImg)?t("v-uni-view",{staticClass:"imageUploadContainer"},[t("v-uni-view",{staticClass:"imageUploadList"},[n._l(n.imageList,function(e,a){return t("v-uni-view",{key:a,staticClass:"imageItem1"},[t("v-uni-image",{class:{dragging:n.isDragging(a)},attrs:{src:e.imgUrl||e,draggable:"false","data-index":a},on:{touchstart:function(e){arguments[0]=e=n.$handleEvent(e),n.start.apply(void 0,arguments)},touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=n.$handleEvent(e),n.move.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=n.$handleEvent(e),n.stop.apply(void 0,arguments)},click:function(e){arguments[0]=e=n.$handleEvent(e),n.previewImage.apply(void 0,arguments)}}}),n.isShowDel?t("v-uni-view",{staticClass:"imageDel1",attrs:{"data-index":a},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.deleteImage.apply(void 0,arguments)}}},[n._v("x")]):n._e()],1)}),n.isShowAdd?t("v-uni-view",{staticClass:"imageUpload1",on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.selectImage.apply(void 0,arguments)}}},[n._v("+"),t("p",{staticClass:"text"},[n._v("点击添加图片")])]):n._e()],2),n.showMoveImage?t("v-uni-image",{staticClass:"moveImage1",style:{left:n.posMoveImageLeft,top:n.posMoveImageTop},attrs:{src:n.moveImagePath}}):n._e()],1):n._e(),10===Number(n.typeImg)?t("v-uni-view",{staticClass:"imageUploadContainer"},[t("v-uni-view",{staticClass:"imageUploadList"},[n._l(n.imageList,function(e,a){return t("v-uni-view",{key:a,staticClass:"imageItem1"},[t("v-uni-image",{class:{dragging:n.isDragging(a)},staticStyle:{width:"314upx",height:"314upx","margin-top":"-20upx","margin-left":"-10upx"},attrs:{src:e.imgUrl||e,draggable:"false","data-index":a},on:{touchstart:function(e){arguments[0]=e=n.$handleEvent(e),n.start.apply(void 0,arguments)},touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=n.$handleEvent(e),n.move.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=n.$handleEvent(e),n.stop.apply(void 0,arguments)},click:function(e){arguments[0]=e=n.$handleEvent(e),n.previewImage.apply(void 0,arguments)}}}),n.isShowDel?t("v-uni-view",{staticClass:"imageDel10",attrs:{"data-index":a},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.deleteImage.apply(void 0,arguments)}}},[n._v("x")]):n._e()],1)}),n.isShowAdd?t("v-uni-view",{staticClass:"imageUpload10",on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.selectImage.apply(void 0,arguments)}}},[n._v("+"),t("p",{staticClass:"text10"},[n._v("点击添加二维码")])]):n._e()],2),n.showMoveImage?t("v-uni-image",{staticClass:"moveImage1",style:{left:n.posMoveImageLeft,top:n.posMoveImageTop},attrs:{src:n.moveImagePath}}):n._e()],1):n._e()],1)},i=[];t.d(e,"a",function(){return a}),t.d(e,"b",function(){return i})},"177e":function(n,e,t){"use strict";t.r(e);var a=t("9e00"),i=t.n(a);for(var o in a)"default"!==o&&function(n){t.d(e,n,function(){return a[n]})}(o);e["default"]=i.a},"2a2c":function(n,e){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEoAAABKCAYAAAAc0MJxAAAAAXNSR0IArs4c6QAAAU9JREFUeAHt2kEKwkAQRFEjnmfuf465kJJtQZHPgGEC3103FRmf5ULNMef8vnxcCwjFjN7XMROngFCwB0IJBQVgzEYJBQVgzEYJBQVgzEYJBQVgzEYJBQVgzEYJBQVgzEYJBQVgzEYJBQVgzEYJBQVgzEY9FWrXf4Vs1FMbBc99e8xGQXKhhIICMGajhIICMGajhIICMGajhIICMGajINQH5pZiq19wV64bYxxLh6QXrRyKPvdKbrfznK/hPJMfPfhuCiUUFIAxGyUUFIAxGyUUFIAxGyUUFIAxGyUUFIAxG/VUqL//CgBhMmajUqTMQhWYXAuVImUWqsDkWqgUKbNQBSbXQqVImYUqMLkWKkXKLFSBybVQKVJmoQpMroVKkTILVWByLVSKlFmoApNroVKkzEIVmFwLlSJlFqrA5FqoFCmzUAUm18eO90zmIXeYf8oeJDkbw48TAAAAAElFTkSuQmCC"},"2e0b":function(n,e,t){"use strict";t.r(e);var a=t("03a0"),i=t("177e");for(var o in i)"default"!==o&&function(n){t.d(e,n,function(){return i[n]})}(o);t("b4b6");var s=t("2877"),g=Object(s["a"])(i["default"],a["a"],a["b"],!1,null,"6d90fe73",null);e["default"]=g.exports},"5c75":function(n,e,t){var a=t("9eb1");"string"===typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);var i=t("4f06").default;i("4fd66664",a,!0,{sourceMap:!1,shadowMode:!1})},"9e00":function(n,e,t){"use strict";(function(n){var a=t("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(t("795b"));t("ac6a"),t("5df3");var o,s=a(t("f499")),g=a(t("bdcd")),r=a(t("e03e")),l=a(t("2a2c"));n.log("引入H5图片压缩组件");var d={name:"robby-image-upload",props:["value","enableDel","enableAdd","enableDrag","serverUrl","formData","limit","fileKeyName","showUploadProgress","typeImg"],data:function(){return{imageBasePos:{x0:-1,y0:-1,w:-1,h:-1},showMoveImage:!1,moveImagePath:"",moveLeft:0,moveTop:0,deltaLeft:0,deltaTop:0,dragIndex:null,targetImageIndex:null,imageList:[],close:r.default,jiaadd:l.default}},mounted:function(){this.imageList=this.value,n.log(this.imageList,"-------------------this.imageList--mounted------------------")},computed:{posMoveImageLeft:function(){return this.moveLeft+"px"},posMoveImageTop:function(){return this.moveTop+"px"},isShowDel:function(){return!1!==this.enableDel},isShowAdd:function(){return!1!==this.enableAdd&&!(this.limit&&this.imageList.length>=this.limit)},isDragable:function(){return!1!==this.enableDrag}},watch:{imageList:{handler:function(n,e){this.imageData=JSON.parse((0,s.default)(n))},deep:!0}},methods:{selectImage:function(){o=this,o.imageList||(o.imageList=[]),uni.chooseImage({count:o.limit?o.limit-o.imageList.length:999,success:function(e){var t=e.tempFilePaths;if(o.limit){var a=o.limit-o.imageList.length;if(a<t.length)return void uni.showToast({title:"图片总数限制为"+o.limit+"张，当前还可以选"+a+"张",icon:"none",mask:!1,duration:2e3})}for(var r=function(e){var a=t[e];n.log("进入H5图片压缩"),(0,g.default)(a,{quality:.6}).then(function(e){n.log(e),a=e.base64,o.imageList.push(a)})},l=0;l<t.length;l++)r(l);if(o.serverUrl){var d=o.imageList.length-t.length,m=[],h=(o.fileKeyName&&o.fileKeyName,0),u=function(e){m.push(new i.default(function(a,i){var s=d+e;uni.showLoading({title:"加载中"}),uni.uploadFile({url:o.serverUrl,fileType:"image",formData:o.formData,filePath:t[e],name:"file",success:function(e){if(uni.hideLoading(),200===e.statusCode){n.log(JSON.parse(e.data),"上传成功");var g={imgUrl:JSON.parse(e.data).httpUrl,imgName:JSON.parse(e.data).name};n.log(typeof g),o.imageList[s]=g,n.log(o.imageList,"_self.imageList"),h++,o.showUploadProgress&&uni.showToast({title:"上传进度："+h+"/"+t.length,icon:"none",mask:!1,duration:1e3}),n.log("success to upload image: "+e.data),a("success to upload image:"+s)}else uni.hideLoading(),n.log("fail to upload image:"+e.data),i("failt to upload image:"+s)},fail:function(e){uni.hideLoading(),n.log("fail to upload image:"+e),i("failt to upload image:"+s)}})}))};for(l=0;l<t.length;l++)u(l);i.default.all(m).then(function(n){o.$emit("add",{currentImages:t,allImages:JSON.parse((0,s.default)(o.imageList))}),o.$emit("input",o.imageList)})}else o.$emit("add",{currentImages:t,allImages:o.imageList}),o.$emit("input",o.imageList)}})},deleteImage:function(n){var e=n.currentTarget.dataset.index,t=this.imageList[e];this.imageList.splice(e,1),this.$emit("delete",{currentImage:t,allImages:JSON.parse((0,s.default)(this.imageList))}),this.$emit("input",this.imageList)},previewImage:function(e){var t=e.currentTarget.dataset.index;n.log(this.imageList,"预览的img");var a=[];this.imageList.map(function(n,e){a.push(n.imgUrl)}),uni.previewImage({current:a[t],indicator:"number",loop:"true",urls:a})},initImageBasePos:function(){var n=.024;o=this,uni.getSystemInfo({success:function(e){var t=e.screenWidth,a=Math.ceil(n*t),i=Math.ceil((t-2*a)/4);o.imageBasePos.x0=a,o.imageBasePos.w=i,o.imageBasePos.h=i}})},findOverlapImage:function(n,e){var t=Math.floor((n-this.imageBasePos.x0)/this.imageBasePos.w),a=Math.floor((e-this.imageBasePos.y0)/this.imageBasePos.h),i=4*a+t;return i},isDragging:function(n){return this.dragIndex===n},start:function(e){if(n.log(this.isDragable),this.isDragable){if(this.dragIndex=e.currentTarget.dataset.index,this.moveImagePath=this.imageList[this.dragIndex],this.showMoveImage=!0,-1===this.imageBasePos.y0){this.initImageBasePos();var t=Math.floor(this.dragIndex/4)*this.imageBasePos.h,a=e.currentTarget.offsetTop;this.imageBasePos.y0=a-t}this.moveLeft=e.target.offsetLeft,this.moveTop=e.target.offsetTop}},move:function(n){if(this.isDragable){var e=n.touches[0];this.targetImageIndex=this.findOverlapImage(e.clientX,e.clientY),0===this.deltaLeft&&(this.deltaLeft=e.clientX-this.moveLeft,this.deltaTop=e.clientY-this.moveTop),this.moveLeft=e.clientX-this.deltaLeft,this.moveTop=e.clientY-this.deltaTop}},stop:function(n){this.isDragable&&(null!==this.dragIndex&&null!==this.targetImageIndex&&(this.targetImageIndex<0&&(this.targetImageIndex=0),this.targetImageIndex>=this.imageList.length&&(this.targetImageIndex=this.imageList.length-1),this.dragIndex!==this.targetImageIndex&&(this.imageList[this.dragIndex]=this.imageList[this.targetImageIndex],this.imageList[this.targetImageIndex]=this.moveImagePath)),this.dragIndex=null,this.targetImageIndex=null,this.deltaLeft=0,this.deltaTop=0,this.showMoveImage=!1,this.$emit("input",this.imageList))}}};e.default=d}).call(this,t("5a52")["default"])},"9eb1":function(n,e,t){e=n.exports=t("2350")(!1),e.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* --------------------------------------------默认样式start------------------------------------------ */.imageUploadContainer[data-v-6d90fe73]{padding:%?10?% %?5?%;margin:%?10?% %?5?%}.dragging[data-v-6d90fe73]{-webkit-transform:scale(0);transform:scale(0)}.imageUploadList[data-v-6d90fe73]{width:100%;min-height:%?148?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap}.imageUploadList uni-view[data-v-6d90fe73]:first-of-type{margin-left:0}.imageUpload[data-v-6d90fe73]{width:%?148?%;\n\t/* line-height: 150upx;\n\ttext-align: center;\n\tfont-size: 150upx;\n\tcolor: #D9D9D9;\n\tborder: 1px solid #D9D9D9;\n\tborder-radius: 8upx; */height:%?148?%;margin-left:%?12?%;margin-top:%?-10?%}.imageUpload>uni-image[data-v-6d90fe73]{width:100%;height:100%}.imageItem[data-v-6d90fe73]{width:%?148?%;width:%?148?%;margin-right:%?12?%}.imageDel[data-v-6d90fe73]{position:relative;left:%?130?%;bottom:%?180?%;width:%?32?%;height:%?32?%;\n\t/* background-color: rgba(0,0,0,0.5);\n\twidth: 36upx;\n\theight: 27upx;\n\ttext-align: center;\n\tline-height: 14upx;\n\tborder-radius: 50%;\n\tcolor: white!important;\n\tfont-size: 30upx; */padding-bottom:%?2?%}.imageDel>uni-image[data-v-6d90fe73]{width:100%;height:100%}.imageItem>uni-image[data-v-6d90fe73],.moveImage[data-v-6d90fe73]{width:%?148?%;height:%?148?%;border-radius:%?8?%}.moveImage[data-v-6d90fe73]{position:absolute}.uni-swiper[data-v-6d90fe73]{height:100%!important}\n/* .imageDel{\n\twidth: 32upx;\n\theight: 30upx;\n\tborder-radius: 50%;\n\tline-height: 26upx;\n\tmargin-top: 4upx;\n\tmargin-left: 4upx;\n} */\n/* ---------------------------------------------采购样式------------------------------------------------------- */.imageUpload1[data-v-6d90fe73]{width:%?220?%!important;height:%?220?%!important;margin-left:%?12?%;line-height:%?220?%!important;text-align:center;font-size:%?80?%!important;color:#d9d9d9;border:0!important;border-radius:%?8?%;background:#f9f9f9}.imageUpload1 .text[data-v-6d90fe73]{position:absolute;font-family:PingFangSC-Regular;font-size:%?20?%;color:#bdbdbd;letter-spacing:0;text-align:center;line-height:%?20?%;top:%?156?%;width:%?220?%}.imageItem1[data-v-6d90fe73]{width:%?208?%;width:%?208?%;margin-right:%?12?%;margin-bottom:%?34?%}.imageDel1[data-v-6d90fe73]{position:relative;left:%?120?%;bottom:%?185?%;background-color:rgba(0,0,0,.5);width:%?36?%;height:%?27?%;text-align:center;line-height:%?14?%;border-radius:50%;color:#fff!important;font-size:%?30?%;padding-bottom:%?2?%}.imageItem1 uni-image[data-v-6d90fe73],.moveImage1[data-v-6d90fe73]{width:%?208?%;height:%?208?%;border-radius:%?8?%}.moveImage1[data-v-6d90fe73]{position:absolute}.uni-swiper1[data-v-6d90fe73]{height:100%!important}.imageDel1[data-v-6d90fe73]{width:%?32?%;height:%?30?%;border-radius:50%;line-height:%?26?%;margin-top:%?-50?%;margin-left:%?64?%!important}\n/* --------------------------------------------------说明书样式start------------------------------------------------------- */\n/*---------------------------------------------------二维码样式-------------------------------------------------------------*/.imageUpload10[data-v-6d90fe73]{width:%?314?%!important;height:%?314?%!important;margin-left:%?12?%;line-height:%?262?%!important;text-align:center;font-size:%?80?%!important;color:#d9d9d9;border:0!important;border-radius:%?8?%;background:#f9f9f9;margin-top:%?-18?%}.text10[data-v-6d90fe73]{position:absolute;font-family:PingFangSC-Regular;font-size:%?20?%;color:#bdbdbd;letter-spacing:0;text-align:center;line-height:%?20?%;top:%?212?%;width:%?304?%}.imageDel10[data-v-6d90fe73]{position:relative;left:%?280?%;bottom:%?348?%;background-color:rgba(0,0,0,.5);width:%?36?%;height:%?36?%;text-align:center;line-height:%?30?%;border-radius:50%;color:#fff!important;font-size:%?30?%;padding-bottom:%?2?%}\n/*---------------------------------------------------二维码样式-------------------------------------------------------------*/",""])},b4b6:function(n,e,t){"use strict";var a=t("5c75"),i=t.n(a);i.a},e03e:function(n,e){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA/dJREFUWAm1V91LFFEUv3dm0nRXSMHdWQ1Sd9cgyEiDEHEfzPKphx6ECKOH3gsi/wp77LWX2CIQSoIKdRGKMJBcw0CICpQs3cKUbIvWnZnOb3fvME539sPcheXcOV+/c88998wZzsr8DQ8Pq8vLyy2ZjHnEsqxGzlk9Y5Yvb87TlsV+cc43a2qUlba2ti/j4+NGOa55KaWenp76bJZ1M5aNmiY/UEofckWxdhjT3msaS87Pz/8qZqN6CbHj2traHsOwzpimGbQs7qnr9gFdylIzZeVYS0tI7e/vTy0tLVluPTxLM4BdG4ZxzjBYQGZUKU9V2VdVVadk2fhnV729vU2ZTOY8gTdWCuSlT5mgWrHC7e3tn1dXV3879XYFgJ0XwAvF5VT9vzUFUWMY2SOtra0f19bWqEbyP0UscOaFtO87uMCgrPqAASzBsxf5gmMRIagWxXFsbW2y9fX1L8DIZQCpN03WVS1Qt19gAdMOAPfcNC3Nreh8DgYDtZOTT2+Mjt485eQ715BBB7pOvnsNrHxvYUzFeWxsfBsods/hMB6/e03X9c6uruMnGxoaUrOzs7kUCucAHxm5dJVkzUND56JTU1Pz6XTasxtybh6KxWJvVZ/Pd3hnxzwqHMnow4fj1wEOGbVb7g5CgJMod6R+v7/p7NnBjnj83iuZP/Cw4Z8/t1MaeruXkuAnEjMvaHdRAQCK3Qo51kIGHnVBEzZC7kWBrQaDoRNk0uClBD7SjbRj5wSU656geKZ/Ny3t6wzwePz+nbGxW6+L+czLeFbV9dBJMjpYStkrCAQibCsDx0uLmxSAfprupr0D4UxGZUEIvUrBYUeha2UBC5BqUMpAS2c5RwBwd7U7A8JRuG+HUy5bU+lsowg7ShUhjGXgSDuJLFEHlQfBN5GBADlqlkUoeF7gqPbFxbcLstsha1bCn6CKonxSMMMJhhcdHByI0e7senEWHK4bAilkI+cCurDx8if4wFb7+vrS379vHC/Wiqenp5Nor+hwTnDhyH07UqnUh8uXr9wu1ooxN4bD4ZcqZjVdP+wvdgxwhN6O9jox8XhC1mREEIFAsx/gqdTXPyJAGeVcezczk1jJNRG8GrNZ82KpN6LM0V541ICymqY8wIyYG0gwImF6pfd0aC8OK7VRVf4mmUzmas8urEgksoDptVJnleoDA1jCzu7jYOAoaGa7gNlNKOwnJfA0jeePnOO5PRMCCEeB0RnTK6bY/Qavq6t7Njc398Ppd1cAEGBux+hMDU7HAOlU3uu68GHyxA0Of/8EACYyQZ9T7zG90jsLn1h2rUBe7g/VjoKLRqPPE4lERma3qwZkCvkrWr2P05IBiKAwvFbj8/wvUn8SiVplDl4AAAAASUVORK5CYII="}}]);