(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/common/RHX/dragSorts/dragSorts"],{"01f8":function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(r("0c99"));function n(t){return t&&t.__esModule?t:{default:t}}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},i=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),i.forEach(function(e){u(t,e,r[e])})}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c=function(){return Promise.all([r.e("common/vendor"),r.e("components/common/RHX/moduleIconLibrary/moduleIconLibrary")]).then(r.bind(null,"a4b2"))},s=function(){return Promise.all([r.e("common/vendor"),r.e("components/common/RHX/moduleItems/moduleItems")]).then(r.bind(null,"4712"))},a={name:"drag-sort",mixins:[],components:{moduleItems:s,moduleIconLibrary:c},data:function(){return{dataLists:this.dataList,iconSrc:i.default,disable:this.disabled,iconLibrary:-1,styleObject:{color:"red",fontSize:"13px",borderTop:"0.5px solid #E2E2E2"},style:{background:"red"},direction:"all",windowWidth:100,height:60,currentList:[],active:-1,index:0,topY:0,topX:0,deviationX:0,deviationY:0}},computed:{boxHeight:function(){return Math.ceil((Number(this.list.length)+1)/1)*this.height+"px"}},props:["disabled","selIconList","list","boxStyle"],watch:{list:{handler:function(){this.onUpdateCurrentList()},deep:!0},disabled:{handler:function(t,e){console.log(t,e),this.disable=t},deep:!0}},created:function(){var e=t.getSystemInfoSync();this.windowWidth=e.windowWidth,this.onUpdateCurrentList()},mounted:function(){},updated:function(){},filters:{},methods:{onUpdateCurrentList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.list,e=[];for(var r in t){var i=Math.ceil((Number(r)+1)/1)-1,n=0;e.push(o({},t[r],{isShow:1,index:Number(r),SortNumber:Number(r),y:i*this.height,x:n,animation:!0}))}this.currentList=e},moveUpdateCurrentList:function(t){for(var e in this.currentList){var r=void 0;r=this.currentList[e].SortNumber||0===this.currentList[e].SortNumber?this.currentList[e].SortNumber:Number(e);o({},this.currentList[e]);this.currentList[e].y=(Math.ceil((Number(r)+1)/1)-1)*this.height}this.$emit("change",this.currentList)},touchstart:function(e){var r=this,i=t.createSelectorQuery().in(this);i.select("#drag").boundingClientRect(),i.exec(function(t){r.topY=t[0].top;var i=e.mp.touches[0].clientY-t[0].top;r.deviationY=i%r.height,r.active=Number(e.currentTarget.dataset.index),r.index=Number(e.currentTarget.dataset.index)})},touchmove:function(t){var e=this;if(!(this.active<0)){var r=t.mp.touches[0].clientY-this.topY,i=r-0;this.currentList[this.active].y=i,this.currentList[this.active].animation=!1,this.currentList.every(function(t,r){var n=Math.abs(i-t.y);if(n>0&&n<=10&&e.active!=r){var o=e.currentList[r].SortNumber;return e.currentList.every(function(t,i){return e.currentList[e.active].SortNumber<e.currentList[r].SortNumber?e.currentList[i].SortNumber>e.currentList[e.active].SortNumber&&e.currentList[i].SortNumber<=e.currentList[r].SortNumber&&t.SortNumber--:e.currentList[i].SortNumber<e.currentList[e.active].SortNumber&&e.currentList[i].SortNumber>=e.currentList[r].SortNumber&&t.SortNumber++,!0},e),e.currentList[e.active].SortNumber=o,e.moveUpdateCurrentList(o),!1}return!0},this)}},touchend:function(t){this.currentList[this.active]&&(this.currentList[this.active].animation=!0),this.moveUpdateCurrentList(-1),this.active=-1,this.$emit("change",this.currentList)},tapModuleItemsIcon:function(t){console.log(t,"在拖拽中点击icon"),this.iconLibrary=t},close:function(e){var r=this;t.showToast({title:"点击删除"}),console.log("我是删除的index 的SortNumber"),console.log(this.currentList[e].SortNumber),this.currentList.forEach(function(t,i){r.currentList[i].SortNumber>r.currentList[e].SortNumber&&t.SortNumber--}),this.moveUpdateCurrentList(-1),this.currentList[e].isShow=0}}};e.default=a}).call(this,r("543d")["default"])},"566f":function(t,e,r){"use strict";var i=r("96b2"),n=r.n(i);n.a},"5add":function(t,e,r){"use strict";r.r(e);var i=r("01f8"),n=r.n(i);for(var o in i)"default"!==o&&function(t){r.d(e,t,function(){return i[t]})}(o);e["default"]=n.a},9283:function(t,e,r){"use strict";r.r(e);var i=r("edf9"),n=r("5add");for(var o in n)"default"!==o&&function(t){r.d(e,t,function(){return n[t]})}(o);r("566f");var u=r("2877"),c=Object(u["a"])(n["default"],i["a"],i["b"],!1,null,"ee66f2b2",null);e["default"]=c.exports},"96b2":function(t,e,r){},edf9:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},n=[];r.d(e,"a",function(){return i}),r.d(e,"b",function(){return n})}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/common/RHX/dragSorts/dragSorts-create-component',
    {
        'components/common/RHX/dragSorts/dragSorts-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("9283"))
        })
    },
    [['components/common/RHX/dragSorts/dragSorts-create-component']]
]);                
