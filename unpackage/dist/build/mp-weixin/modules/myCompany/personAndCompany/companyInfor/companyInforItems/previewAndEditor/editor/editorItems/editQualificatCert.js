(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["modules/myCompany/personAndCompany/companyInfor/companyInforItems/previewAndEditor/editor/editorItems/editQualificatCert"],{"15bc":function(t,e,o){"use strict";o.r(e);var a=o("1de7"),n=o.n(a);for(var u in a)"default"!==u&&function(t){o.d(e,t,function(){return a[t]})}(u);e["default"]=n.a},"1de7":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(o("4add")),n=i(o("270c")),u=i(o("777c")),s=o("2f62");function i(t){return t&&t.__esModule?t:{default:t}}function c(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},a=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),a.forEach(function(e){r(t,e,o[e])})}return t}function r(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var l=function(){return o.e("components/common/watch-login/watch-input1").then(o.bind(null,"5d15"))},m=function(){return o.e("components/common/imageUpload/imageUploadOne").then(o.bind(null,"dc3a"))},h=function(){return o.e("components/common/imageUpload/imageUploadMore").then(o.bind(null,"1c29"))},g={name:"editQualificatCert",components:{wInput:l,imageUploadOne:m,imageUploadMore:h},data:function(){return{touxiang:"",touxiang1:a.default,lineRightArrow:n.default,xing:u.default,text:"",timeOutEvent:0,previewImgShow:!1,ImgSrc:"",num:"",action:"http://img01.iambuyer.com/imgup/upLoad/fileUpload",files:[],files2:[],files3:[],confirmShow:!1,confirmBtn:"知道了",confirmTitle:"提示",confirmText:"您的认证信息已提交，审核需要1-2个工作日，请耐心等待～",authTypePopup:!1,qualificationTypePopup:!1,authCompTypeText:"",authQualTypeText:"",authTypeData:{code:"",text:""},qualificationTypeData:{code:"",text:""},listData:{imageData:[],serverUrl:"https://img01.iambuyer.com/imgup/upLoad/fileUpload"},UserData:{id:17,ssoUserId:1000001126,authBrandName:"112",authBrandContent:"阿萨德",authCompType:"0",authQualType:"0",authQualImg:"https://img02.iambuyer.com/imgup/upload/images/2019/07/15/yI0lllFA82vp8A9rIMf48BkeDpArqv6yyCjK6aLURB0GteRCteE7yb1Rwhcjjc2FCvyeg0.jpeg",authQualNum:"1231223",authLegalNum:"https://img01.iambuyer.com/imgup/upload/images/2019/07/15/hcjjc2FhsCAPh2fPmgeMiVpStDi8Ehcjjc2BiVdR3hcjjc2BpXWllnYjwhcjjc2BF9h4PYBOrlzs4vKIcYBeR3w4.jpeg",authEnclosureImg01:"https://img02.iambuyer.com/imgup/upload/images/2019/07/15/Chcjjc2F5SxD8LepzU3Lhcjjc2FtlYXBMfG9Chtcsx4WkAkVDQWKLH1SsJsQew9dXTfgBcwSuBOF.jpeg",authEnclosureImg02:null,authEnclosureImg03:null,authEnclosure:null,authEnclosurePath:null,authState:"2",authStateTime:1563261045e3,authTimeStr:"2019-07-16 15:10",authContent:"认证通过"},imgData:{}}},created:function(){},computed:c({i18n:function(){return this.$t("qualificatCert")}},(0,s.mapGetters)(["PERSONCENTER","IMGDATA"])),watch:{PERSONCENTER:{handler:function(t,e){this.UserData=t.qualificatCertEdit;var o=JSON.parse(localStorage.getItem("landRegist"));console.log(o.user.id),this.UserData.ssoUserId=o.user.id,"0"===this.UserData.authCompType?this.authCompTypeText="企业":this.authCompTypeText="个体工商户",this.UserData.authQualType,this.authQualTypeText="企业营业执照"},deep:!0},IMGDATA:{handler:function(t,e){this.imgData=t},deep:!0}},mounted:function(){},methods:c({},(0,s.mapMutations)({setAddressBsShow:"setAddressBsShow",setLoadingShow:"setLoadingShow",setLoadingText:"setLoadingText",setQualificatCertEdit:"setQualificatCertEdit",setHeadImg:"setHeadImg",setAuthQualImg:"setAuthQualImg",setAuthLegalNum:"setAuthLegalNum",setAuthEnclosureImg01:"setAuthEnclosureImg01",setAuthEnclosureImg02:"setAuthEnclosureImg02",setAuthEnclosureImg03:"setAuthEnclosureImg03"}),{area:function(){this.$store.commit("setAddressBsShow",!0)},DataChangeType:function(t){var e=this;console.log("picker发送选择改变，携带值为",t.target.value),this.i18n.authType.map(function(o,a){String(a)===String(t.target.value)&&(console.log(o,"左侧选择数据"),e.UserData.authType=o.code,e.authCompTypeText=o.text)})},DataChangeShengFen:function(t){var e=this;console.log("picker发送选择改变，携带值为",t.target.value),this.i18n.qualificationType.map(function(o,a){String(a)===String(t.target.value)&&(console.log(o,"左侧选择数据"),e.UserData.qualificationType=o.code,e.authQualTypeText=o.text)})},screenDataPopup:function(t){console.log(t),1===t?(this.authTypePopup=!0,console.log(this.authTypePopup)):2===t&&(this.qualificationTypePopup=!0)},onValuesChangeAuthType:function(t,e){console.log(e),this.authTypeData=e[0]},onValuesChangeQualificationType:function(t,e){console.log(e),this.qualificationTypeData=e[0]},confirmAuthType:function(){console.log("触发验证类型确定"),this.authTypePopup=!1,this.authCompTypeText=this.authTypeData.text,this.UserData.authCompType=this.authTypeData.code},confirmQualificationType:function(){console.log("触发资质类型确定"),this.qualificationTypePopup=!1,this.authQualTypeText=this.qualificationTypeData.text,this.UserData.authQualType=this.qualificationTypeData.code},goToBriefIntro:function(){console.log("to个人介绍"),this.$router.push({path:"/briefIntro",query:{}})},getUserData:function(){var t=this;console.log("获取用户信息，全部"),this.$store.commit("setLoadingShow",!0);var e=JSON.parse(localStorage.getItem("landRegist"));console.log(e.user.id),axios.get(this.api2+"/rest-rp/compAuth/"+e.user.id).then(function(e){if(console.log(e),"200"===e.data.ret)if(t.$store.commit("setLoadingShow",!1),e.data.content){t.$store.commit("setQualificatCertEdit",e.data.content);var o={url:"",response:{name:""}},a={url:"",response:{name:""}},n={url:"",response:{name:""}};""!==e.data.content.authEnclosureImg01&&null!==e.data.content.authEnclosureImg01&&(o.url=e.data.content.authEnclosureImg01,o.response.name=e.data.content.authEnclosureImg01,t.files3.push(o),t.num=1),""!==e.data.content.authEnclosureImg02&&null!==e.data.content.authEnclosureImg02&&(a.url=e.data.content.authEnclosureImg02,a.response.name=e.data.content.authEnclosureImg02,t.files3.push(a),t.num=2),""!==e.data.content.authEnclosureImg03&&null!==e.data.content.authEnclosureImg03&&(n.url=e.data.content.authEnclosureImg03,n.response.name=e.data.content.authEnclosureImg03,t.files3.push(n),t.num=3),console.log(t.files3),t.$store.commit("setAuthQualImg",e.data.content.authQualImg),t.$store.commit("setAuthLegalNum",e.data.content.authLegalNum),t.$store.commit("setAuthEnclosureImg01",e.data.content.authEnclosureImg01),t.$store.commit("setAuthEnclosureImg02",e.data.content.authEnclosureImg02),t.$store.commit("setAuthEnclosureImg03",e.data.content.authEnclosureImg03)}else{var u={ssoUserId:0,authBrandName:"",authBrandContent:"",authCompType:"",authQualType:"",authQualImg:"",authQualNum:"",authLegalNum:"",authEnclosureImg01:"",authEnclosureImg02:"",authEnclosureImg03:""};t.$store.commit("setQualificatCertEdit",u)}else t.$store.commit("setLoadingShow",!1),Toast(e.data.msg)}).catch(function(e){t.$store.commit("setLoadingShow",!1),Toast("网络繁忙，请稍后"),console.log(e,"网络繁忙，请稍后")})},goTouchStart:function(t,e){var o=this;clearTimeout(o.timeOutEvent),o.timeOutEvent=0,o.timeOutEvent=setTimeout(function(){o.longPress(t,e)},600)},goTouchend:function(t){clearTimeout(this.timeOutEvent),this.timeOutEvent},goTouchMove:function(t){clearTimeout(this.timeOutEvent),this.timeOutEvent=0},longPress:function(t,e){if(this.timeOutEvent=0,console.log(t,"触发长按行为"),"faRen"===t){if(""===e)return!1;this.ImgSrc=e,this.previewImgShow=!0}},fileClick:function(){console.log("点击图片")},processFile:function(t,e){console.log(t),lrz(t).then(function(o){t=o.file,console.log(t),e(t)})},addedHandler:function(){var t=this.files[0];t&&this.$refs.upload.removeFile(t),console.log(t)},errHandler:function(t){Toast("上传失败！")},sucQualImg:function(t){console.log(t),console.log("更新资质图片"),this.UserData.authQualImg=t.response.httpUrl,this.$store.commit("setAuthQualImg",t.response.name)},sucLegalNum:function(t){console.log(t),console.log("更新法人身份证"),this.UserData.authLegalNum=t.response.httpUrl,this.$store.commit("setAuthLegalNum",t.response.name)},sucHandlerOther:function(t){switch(console.log(t,"添加按钮"),this.num++,this.num){case 1:this.$store.commit("setAuthEnclosureImg01",t.response.name);break;case 2:this.$store.commit("setAuthEnclosureImg02",t.response.name);break;case 3:this.$store.commit("setAuthEnclosureImg03",t.response.name);break}},delHandler:function(t){this.num--,this.$store.commit("setAuthEnclosureImg01",""),this.$store.commit("setAuthEnclosureImg02",""),this.$store.commit("setAuthEnclosureImg03",""),console.log(t,this.num,"删除按钮");for(var e=0;e<this.num;e++)0===e&&(console.log(t[e],"第1个"),this.$store.commit("setAuthEnclosureImg01",t[e].response.name)),1===e&&(console.log(t[e],"第2个"),this.$store.commit("setAuthEnclosureImg02",t[e].response.name)),2===e&&(console.log(t[e],"第3个"),this.$store.commit("setAuthEnclosureImg03",t[e].response.name))},clickSaveQualificatCert:function(){console.log("触发保存认证信息按钮");var t=JSON.parse(JSON.stringify(this.UserData));return console.log(this.imgData,"this.imgData"),t.authQualImg=this.imgData.authQualImg,t.authLegalNum=this.imgData.authLegalNum,t.authEnclosureImg01=this.imgData.authEnclosureImg01,t.authEnclosureImg02=this.imgData.authEnclosureImg02,t.authEnclosureImg03=this.imgData.authEnclosureImg03,delete t.id,delete t.authEnclosure,delete t.authEnclosurePath,delete t.authState,delete t.authStateTime,delete t.authTimeStr,delete t.authContent,console.log(t,"params"),""===t.authBrandName?(Toast("品牌名称不能为空"),!1):""===t.authBrandContent?(Toast("品牌内容不能为空"),!1):""===t.authCompType?(Toast("验证类型不能为空"),!1):""===t.authQualType?(Toast("资质类型不能为空"),!1):""===t.authQualImg?(Toast("资质图片不能为空"),!1):""===t.authQualNum?(Toast("资质号码不能为空"),!1):""===t.authLegalNum?(Toast("法人身份证不能为空"),!1):void this.upUserData(t)},upUserData:function(t){var e=this;if(console.log("更新认证信息"),this.$store.commit("setLoadingShow",!0),localStorage.getItem("landRegist")){var o=JSON.parse(localStorage.getItem("landRegist"));console.log(o.user.id),axios.post(this.api2+"/rest-rp/compAuth/submitAuth",t).then(function(t){console.log(t),"200"===t.data.ret?(e.$store.commit("setLoadingShow",!1),e.confirmShow=!0,setTimeout(function(){e.$router.back(-1)},1e3)):(e.$store.commit("setLoadingShow",!1),Toast(t.data.msg))}).catch(function(t){e.$store.commit("setLoadingShow",!1),Toast("网络繁忙，请稍后"),console.log(t,"网络繁忙，请稍后")})}},onConfirm:function(t){var e=this;console.log("on confirm"),setTimeout(function(){e.$router.back(-1)},500)},getValueFromChild:function(t){this.previewImgShow=t}})};e.default=g},"6ad1":function(t,e,o){"use strict";var a=o("a1e5"),n=o.n(a);n.a},"9d84":function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c},n=[];o.d(e,"a",function(){return a}),o.d(e,"b",function(){return n})},a1e5:function(t,e,o){},a539:function(t,e,o){"use strict";o.r(e);var a=o("9d84"),n=o("15bc");for(var u in n)"default"!==u&&function(t){o.d(e,t,function(){return n[t]})}(u);o("6ad1");var s=o("2877"),i=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"0c449422",null);e["default"]=i.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'modules/myCompany/personAndCompany/companyInfor/companyInforItems/previewAndEditor/editor/editorItems/editQualificatCert-create-component',
    {
        'modules/myCompany/personAndCompany/companyInfor/companyInforItems/previewAndEditor/editor/editorItems/editQualificatCert-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("a539"))
        })
    },
    [['modules/myCompany/personAndCompany/companyInfor/companyInforItems/previewAndEditor/editor/editorItems/editQualificatCert-create-component']]
]);                
