(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["modules/myCompany/personAndCompany/companyInfor/companyInforItems/previewAndEditor/editor/editorItems/editBasicInfor"],{1326:function(e,o,t){"use strict";t.r(o);var n=t("306c"),i=t("527a");for(var a in i)"default"!==a&&function(e){t.d(o,e,function(){return i[e]})}(a);t("9188");var s=t("2877"),r=Object(s["a"])(i["default"],n["a"],n["b"],!1,null,"4be9d5f5",null);o["default"]=r.exports},"306c":function(e,o,t){"use strict";var n=function(){var e=this,o=e.$createElement;e._self._c},i=[];t.d(o,"a",function(){return n}),t.d(o,"b",function(){return i})},"315f":function(e,o,t){"use strict";(function(e){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=t("2f62");function i(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(o){a(e,o,t[o])})}return e}function a(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var s=function(){return t.e("modules/myCompany/personAndCompany/companyInfor/companyInforItems/previewAndEditor/editor/editorItems/industryAddress/industry").then(t.bind(null,"eec5"))},r=function(){return t.e("components/common/watch-login/watch-input1").then(t.bind(null,"d4ce"))},d=function(){return t.e("components/common/imageUpload/imageUploadOne").then(t.bind(null,"add4"))},c=function(){return Promise.all([t.e("common/vendor"),t.e("components/mbbo/quickBtn/quickBtn")]).then(t.bind(null,"4455"))},l=function(){return t.e("components/mbbo/navigation/navigation").then(t.bind(null,"ddba"))},u={name:"editBasicInfor",components:{wInput:r,imageUploadOne:d,quickBtn:c,navigation:l,industry:s},data:function(){return{text:"",touxiang:"",touxiang1:this.Static+"images/business/home/extendManageList/touxiang.png",lineRightArrow:this.Static+"images/common/line-right-arrow.png",xing:this.Static+"images/common/xing.png",logo:"",logos:"",logoo:"",logoos:"",placker:"",hangye:0,industryss:"",timeOutEvent:0,previewImgShow:!1,ImgSrc:"",action:"http://img01.iambuyer.com/imgup/upLoad/fileUpload",files:[],files2:[],industryShow:!1,addressDetail:"",idStringAddress:"",addrPcode:"",addrCcode:"",addrAcode:"",industryDataCkeck:{compTypePcodeStr:"",compTypePcode:0},listData:{imageData:[],serverUrl:"https://img01.iambuyer.com/imgup/upLoad/fileUpload"},UserData:{passWord:null,compLogo:"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKB0hUYibokE4jkgia3wClLMz8l20TYbdX0uibziavftrg0ylDne3W9N7mIQI7SRtibpmic5p0KP1WK7ONw/132",wechatQrImg:"https://img04.iambuyer.com/imgup/upload/images/2019/07/15/PM1sECJS2n1G7n5sCDwcQWlB8kNlPrHoEYnQPJ79b4I7LpNNxN0v9Eb46SDBm4fk.jpeg",companyName:"菅双鹤",nickname:"菅双鹤",companyIntro:"",addressDetail:"肉丸无语",contactTelphone:"13146296160",contactEmail:"274088960@qq.com",contactMan:"偶遇语音",userPhone:"13146296160",userEmail:"11@qq.com",money:2718,beyondUser:"91.00%",wxId:"12555",content:"购物与物无忤",headImg:"https://img04.iambuyer.com/imgup/upload/images/2019/06/18/M2Mhcjjc2Bu5b6jatbBmSPsyLgfdTRBTuT88rYVpgQmcsOAOjxlFNfgZ20B5FbyUoXe6nT.jpeg",toBCount:9,toCCount:11,companyAccountVo:{money:0,frozenMoney:null,consMoney:0,putInCount:0,authState:"2",toDayRechMoney:null,yesterdayConsMoney:null},compTypePcode:120,compTypeCode:0,compTypePcodeStr:"计算机服务和软件业",compTypeCodeStr:null,provinceCode:"110000",cityCode:"110100",areaCode:"110101",provinceCodeStr:"北京",cityCodeStr:"北京市",areaCodeStr:"东城区",vipState:"1",cydVipLv:null},imgData:{}}},created:function(){},onLoad:function(){e.setNavigationBarTitle({title:"公司信息"})},computed:i({},(0,n.mapGetters)(["PERSONCENTER","IMGDATA","QUICKNAVCO","GET_MY"])),watch:{PERSONCENTER:{handler:function(e,o){this.UserData=e.basicInforEdit,this.addressDetail=e.info.idStringAddress,this.industryShow=e.industry.industryShow,this.industryDataCkeck=e.industry.industryCheck,this.addrPcode=e.info.addrPcode,this.addrCcode=e.info.addrCcode,this.addrAcode=e.info.addrAcode},deep:!0},GET_MY:{handler:function(e,o){console.log(e,o,"header----list"),this.Effec=e.Effective,void 0!==e.clickCity.idString&&(this.placker=e.clickCity.idString,this.regPcode=e.clickCity.addrPcode,this.regCcode=e.clickCity.addrCcode,this.regAcode=e.clickCity.addrTcode,this.regAddr=e.clickCity.idaddress)},deep:!0}},mounted:function(){},methods:i({},(0,n.mapMutations)({setAddShow:"setAddShow",setIdStringAddress:"setIdStringAddress",setIdString:"setIdString",setAddrPcode:"setAddrPcode",setAddrCcode:"setAddrCcode",setAddrAcode:"setAddrAcode",setIdAddress:"setIdAddress",setLoadingShow:"setLoadingShow",setLoadingText:"setLoadingText",setIndustryShow:"setIndustryShow",setIndustryData:"setIndustryData",setIndustryCheck:"setIndustryCheck",setBasicInforEdit:"setBasicInforEdit",setCompLogo:"setCompLogo",setWechatQrImg:"setWechatQrImg"}),{CloseMask:function(e){this.hangye=e},clickConfirm:function(e){console.log(e),this.industryss=e.name,this.id=e.id},area:function(){console.log("to地址选择"),e.navigateTo({url:"/modules/myCompany/personAndCompany/companyInfor/companyInforItems/previewAndEditor/editor/editorItems/industryAddress/address"})},clickIndustry:function(){console.log("触发所属行业按钮"),this.hangye=1,console.log(this.hangye)},clickSaveBasicInfor:function(){var o=this;if(""==this.logo&&""==this.GET_MY.headers.compLogo)return e.showToast({title:"请选择企业logo",icon:"none",duration:1e3}),!1;if(""==this.GET_MY.headers.companyName)return e.showToast({title:"请填写企业名称",icon:"none",duration:1e3}),!1;if(""==this.GET_MY.headers.compTypePcodeStr&&""==this.industryss)return e.showToast({title:"请选择所属行业",icon:"none",duration:1e3}),!1;if(""==this.GET_MY.headers.addrStr&&""==this.placker)return e.showToast({title:"请选择联系地址",icon:"none",duration:1e3}),!1;if(""==this.GET_MY.headers.contactMan)return e.showToast({title:"请输入联系人",icon:"none",duration:1e3}),!1;if(""==this.GET_MY.headers.contactTelphone)return e.showToast({title:"请输入联系电话",icon:"none",duration:1e3}),!1;if(""!==this.GET_MY.headers.contactEmail&&!/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(this.GET_MY.headers.contactEmail))return e.showToast({title:"邮箱格式有误",icon:"none",duration:1e3}),!1;if(e.getStorageSync("landRegist")){var t=JSON.parse(e.getStorageSync("landRegist"));console.log(t.user.id);var n={compLogo:this.logo,companyName:this.GET_MY.headers.companyName,companyIntro:this.GET_MY.headers.companyIntro,compTypePcode:this.id,provinceCode:this.regPcode,cityCode:this.regCcode,areaCode:this.regAcode,addressDetail:this.regAddr,wechatQrImg:this.logoo,contactTelphone:this.GET_MY.headers.contactTelphone,contactEmail:this.GET_MY.headers.contactEmail,contactMan:this.GET_MY.headers.contactMan};e.showLoading({title:"加载中"}),e.request({url:this.api2+"/rest-rp/user/"+t.user.id,data:n,method:"POST",header:{Authorization:"Bearer "+t.token},success:function(t){e.hideLoading(),console.log(t.data),o.logo?(o.GET_MY.headers.compLogo=o.logos,console.log(1)):(o.GET_MY.headers.compLogo=o.GET_MY.headers.compLogo,console.log(2)),""!==o.industryss&&(o.GET_MY.headers.compTypePcodeStr=o.industryss),""!==o.placker&&(o.GET_MY.headers.addressDetail=o.regAddr),o.logoo?o.GET_MY.headers.wechatQrImg=o.logoos:o.GET_MY.headers.wechatQrImg=o.GET_MY.headers.wechatQrImg,o.getmy()},fail:function(o){e.hideLoading(),e.showToast({title:"网络繁忙，请稍后",icon:"none",duration:1e3}),console.log(o,"网络繁忙，请稍后")}})}},getmy:function(){var o=this;if(e.getStorageSync("landRegist")){var t=JSON.parse(e.getStorageSync("landRegist"));console.log(t.user.id);e.showLoading({title:"加载中"}),e.request({url:this.api2+"/rest-rp/user/"+t.user.id,method:"GET",header:{Authorization:"Bearer "+t.token},success:function(t){e.hideLoading(),"202"===t.data.ret?(e.removeStorageSync("landRegist"),e.removeStorageSync("clickItems"),o.$store.commit("setHome",1),o.$store.commit("setLandRegist",0),e.showToast({title:"登录已过期，请重新登录",icon:"none",duration:1e3}),e.getStorageSync("landRegist")||o.landRegistra()):(e.navigateBack({}),o.list=t.data.content,o.$store.commit("setMy",o.list))},fail:function(o){e.hideLoading(),e.showToast({title:"网络繁忙，请稍后",icon:"none",duration:1e3}),console.log(o,"网络繁忙，请稍后")}})}},deleteImage:function(e){console.log(e,"删除图片"),this.logo=""},addImage:function(e){console.log(e,"添加图片"),e.allImages&&(this.logo=e.allImages[0].imgName,this.logos=e.allImages[0].imgUrl,console.log(this.logo))},deleteImages:function(e){console.log(e,"删除图片"),this.logoo=""},addImages:function(e){console.log(e,"添加图片"),e.allImages&&(this.logoo=e.allImages[0].imgName,this.logoos=e.allImages[0].imgUrl,console.log(this.logo))}})};o.default=u}).call(this,t("543d")["default"])},"4cbe":function(e,o,t){},"527a":function(e,o,t){"use strict";t.r(o);var n=t("315f"),i=t.n(n);for(var a in n)"default"!==a&&function(e){t.d(o,e,function(){return n[e]})}(a);o["default"]=i.a},9188:function(e,o,t){"use strict";var n=t("4cbe"),i=t.n(n);i.a}},[["3997","common/runtime","common/vendor"]]]);