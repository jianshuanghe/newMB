(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/common/RHX/dragSorts/dragSorts"],{"49b7":function(t,r,e){"use strict";e.r(r);var o=e("c310"),n=e("b754");for(var i in n)"default"!==i&&function(t){e.d(r,t,function(){return n[t]})}(i);e("d345");var s=e("2877"),c=Object(s["a"])(n["default"],o["a"],o["b"],!1,null,"edb7a03c",null);r["default"]=c.exports},a569:function(t,r,e){},b754:function(t,r,e){"use strict";e.r(r);var o=e("e7b9"),n=e.n(o);for(var i in o)"default"!==i&&function(t){e.d(r,t,function(){return o[t]})}(i);r["default"]=n.a},c310:function(t,r,e){"use strict";var o=function(){var t=this,r=t.$createElement;t._self._c},n=[];e.d(r,"a",function(){return o}),e.d(r,"b",function(){return n})},d345:function(t,r,e){"use strict";var o=e("a569"),n=e.n(o);n.a},e7b9:function(t,r,e){"use strict";(function(t,o){function n(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{},o=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.forEach(function(r){i(t,r,e[r])})}return t}function i(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=function(){return e.e("components/common/RHX/moduleIconLibrary/moduleIconLibrary").then(e.bind(null,"a4d3"))},c=function(){return e.e("components/common/RHX/moduleItems/moduleItems").then(e.bind(null,"db7f"))},u={name:"drag-sort",mixins:[],components:{moduleIconLibrary:s,moduleItems:c},data:function(){return{dragSortRefresh:!0,iconLibrary:-1,iconLibraryShow:!1,dataLists:this.dataList,isSelect:-1,iconSrc:this.Static+"publish/purchase/delete.png",old:{tapIndex:-1},disable:this.disabled,styleObject:{color:"red",fontSize:"13px",borderTop:"0.5px solid #E2E2E2"},style:{background:"red"},direction:"all",windowWidth:100,height:60,currentList:[],active:-1,index:0,topY:0,topX:0,deviationX:0,deviationY:0}},computed:{boxHeight:function(){return 0!==this.list.length?!0===this.iconLibraryShow?Math.ceil(Number(this.list.length)/1)*this.height+114+"px":Math.ceil(Number(this.list.length)/1)*this.height+"px":0}},props:["disabled","selIconList","list","boxStyle","pickerCancel"],watch:{list:{handler:function(){this.onUpdateCurrentList()},deep:!0},disabled:{handler:function(r,e){console.log(t(r,e," at components\\common\\RHX\\dragSorts\\dragSorts.vue:139")),this.disable=r},deep:!0},pickerCancel:{handler:function(r,e){console.log(t(r,e,"-----------pickerCancel--------"," at components\\common\\RHX\\dragSorts\\dragSorts.vue:146")),!1===r&&this.currentList.map(function(t,r){t.isShow=1})},deep:!0}},created:function(){var t=o.getSystemInfoSync();this.windowWidth=t.windowWidth,this.onUpdateCurrentList()},mounted:function(){},updated:function(){},filters:{},beforeDestroy:function(){console.log(t("页面销毁之前清除缓存数据--------------currentList"," at components\\common\\RHX\\dragSorts\\dragSorts.vue:165"))},methods:{onUpdateCurrentList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.list,r=[];for(var e in t){var i=Math.ceil((Number(e)+1)/1)-1,s=0;r.push(n({},t[e],{isShow:1,index:Number(e),SortNumber:Number(e),y:i*this.height,x:s,animation:!0}))}this.currentList=r;var c=JSON.parse(JSON.stringify(this.currentList));c.sort(function(t,r){return t.SortNumber-r.SortNumber}),o.setStorageSync("currentList",c)},moveUpdateCurrentList:function(t){for(var r in this.currentList){var e=void 0;e=this.currentList[r].SortNumber||0===this.currentList[r].SortNumber?this.currentList[r].SortNumber:Number(r);n({},this.currentList[r]);this.currentList[r].y=(Math.ceil((Number(e)+1)/1)-1)*this.height}},touchstart:function(t){var r=this,e=o.createSelectorQuery().in(this);e.select("#drag").boundingClientRect(),e.exec(function(e){r.topY=e[0].top;var o=t.mp.touches[0].clientY-e[0].top;r.deviationY=o%r.height,r.active=Number(t.currentTarget.dataset.index),r.index=Number(t.currentTarget.dataset.index)})},touchmove:function(t){var r=this;if(this.iconLibrary=-1,this.iconLibraryShow=!1,!(this.active<0)){var e=t.mp.touches[0].clientY-this.topY,o=e-0;this.currentList[this.active].y=o,this.currentList[this.active].animation=!1,this.currentList.every(function(t,e){var n=Math.abs(o-t.y);if(n>0&&n<=10&&r.active!=e){var i=r.currentList[e].SortNumber;return r.currentList.every(function(t,o){return r.currentList[r.active].SortNumber<r.currentList[e].SortNumber?r.currentList[o].SortNumber>r.currentList[r.active].SortNumber&&r.currentList[o].SortNumber<=r.currentList[e].SortNumber&&t.SortNumber--:r.currentList[o].SortNumber<r.currentList[r.active].SortNumber&&r.currentList[o].SortNumber>=r.currentList[e].SortNumber&&t.SortNumber++,!0},r),r.currentList[r.active].SortNumber=i,r.moveUpdateCurrentList(i),!1}return!0},this)}},touchend:function(t){this.currentList[this.active]&&(this.currentList[this.active].animation=!0),this.moveUpdateCurrentList(-1),this.active=-1;var r=JSON.parse(JSON.stringify(this.currentList));r.sort(function(t,r){return t.SortNumber-r.SortNumber}),o.setStorageSync("currentList",r)},tapModuleItems:function(r){console.log(t(r,"触发tapModuleItems"," at components\\common\\RHX\\dragSorts\\dragSorts.vue:303")),console.log(t(this.currentList,"---------------this.currentList-------------"," at components\\common\\RHX\\dragSorts\\dragSorts.vue:304")),this.currentList.map(function(t,e){t.SortNumber===r[1]&&(t.iconTitle=r[0])});var e=JSON.parse(JSON.stringify(this.currentList));e.sort(function(t,r){return t.SortNumber-r.SortNumber}),o.setStorageSync("currentList",e)},tapModuleItemsIcon:function(r){console.log(t(r,"触发点击子项的index----原始值"," at components\\common\\RHX\\dragSorts\\dragSorts.vue:317")),console.log(t(this.iconLibraryShow,"-------------------------this.iconLibraryShow-----------------------"," at components\\common\\RHX\\dragSorts\\dragSorts.vue:318")),!1===this.iconLibraryShow?(this.iconLibraryShow=!0,this.iconLibrary=r,this.isSelect=r,this.old.tapIndex=r,console.log(t(r,"------------------所在index------------------"," at components\\common\\RHX\\dragSorts\\dragSorts.vue:324")),this.currentList.sort(function(t,r){return t.SortNumber-r.SortNumber}),console.log(t(this.currentList[r],"--------------------修改后的this.currentList-------------------"," at components\\common\\RHX\\dragSorts\\dragSorts.vue:327")),this.currentList.map(function(t,e){r===e===0&&(t.y=t.y),e>r&&(t.y=t.y+114)})):!0===this.iconLibraryShow&&(console.log(t(r,this.old.tapIndex,"----------------------------e, this.this.old.tapIndex--------------------------"," at components\\common\\RHX\\dragSorts\\dragSorts.vue:336")),r===this.old.tapIndex?(console.log(t("关闭上一次打开的"," at components\\common\\RHX\\dragSorts\\dragSorts.vue:338")),this.iconLibraryShow=!1,this.iconLibrary=-1,this.isSelect=-1,this.old.tapIndex=-1):(console.log(t("关闭上一次打开的,并且打开新的"," at components\\common\\RHX\\dragSorts\\dragSorts.vue:344")),this.iconLibraryShow=!0,this.iconLibrary=r,this.isSelect=r,this.old.tapIndex=r,console.log(t(r,"------------------所在index------------------"," at components\\common\\RHX\\dragSorts\\dragSorts.vue:349")),this.currentList.sort(function(t,r){return t.SortNumber-r.SortNumber}),console.log(t(this.currentList[r],"--------------------修改后的this.currentList-------------------"," at components\\common\\RHX\\dragSorts\\dragSorts.vue:352")),this.currentList.map(function(t,e){r===e===0&&(t.y=t.y),e>r&&(t.y=t.y+114)})))},tapModuleItemsDel:function(r){var e=this;this.iconLibrary=-1,this.iconLibraryShow=!1,console.log(t(r,"我是删除的index 的SortNumber"," at components\\common\\RHX\\dragSorts\\dragSorts.vue:370")),this.currentList.sort(function(t,r){return t.SortNumber-r.SortNumber}),console.log(t(this.currentList[r],"--------------------修改后的this.currentList-------------------"," at components\\common\\RHX\\dragSorts\\dragSorts.vue:372")),console.log(t(this.currentList[r].SortNumber," at components\\common\\RHX\\dragSorts\\dragSorts.vue:373")),this.currentList.map(function(t,o){t.SortNumber===r&&(e.dragSortRefresh=!1,e.$nextTick(function(){this.dragSortRefresh=!0}))}),this.moveUpdateCurrentList(-1),this.currentList.length>0&&(this.currentList[r].isShow=0);var n=this.currentList;console.log(t(n,"------------------删除后数据--------------------"," at components\\common\\RHX\\dragSorts\\dragSorts.vue:394")),console.log(t(this.currentList,"重排序"," at components\\common\\RHX\\dragSorts\\dragSorts.vue:396"));var i=JSON.parse(JSON.stringify(this.currentList));i.sort(function(t,r){return t.SortNumber-r.SortNumber}),o.setStorageSync("currentList",i),o.showToast({title:"成功！",icon:"none",duration:500})},tapModuleIconLibrary:function(r){var e=this;console.log(t(r,"用户选择的新icon"," at components\\common\\RHX\\dragSorts\\dragSorts.vue:411")),this.currentList.map(function(t,o){o===e.old.tapIndex&&(t.icon=r)});var n=this.currentList;this.currentList.sort(function(t,r){return t.SortNumber-r.SortNumber}),this.$emit("tab-DragSortChange",n),this.iconLibraryShow=!1,this.iconLibrary=-1,this.isSelect=-1,this.old.tapIndex=-1,o.showToast({title:"替换成功！",icon:"none",duration:500})}}};r.default=u}).call(this,e("0de9")["default"],e("6e42")["default"])}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/common/RHX/dragSorts/dragSorts-create-component',
    {
        'components/common/RHX/dragSorts/dragSorts-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('6e42')['createComponent'](__webpack_require__("49b7"))
        })
    },
    [['components/common/RHX/dragSorts/dragSorts-create-component']]
]);
