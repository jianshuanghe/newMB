{"version":3,"sources":["webpack:///E:/慧聪/代码/SVN/慧聪陌拜svn12.13/12.13.晚上/components/common/RHX/defaultAdd/defaultAdd.vue?a76d","webpack:///E:/慧聪/代码/SVN/慧聪陌拜svn12.13/12.13.晚上/components/common/RHX/defaultAdd/defaultAdd.vue?9e00","webpack:///E:/慧聪/代码/SVN/慧聪陌拜svn12.13/12.13.晚上/components/common/RHX/defaultAdd/defaultAdd.vue?305c","webpack:///E:/慧聪/代码/SVN/慧聪陌拜svn12.13/12.13.晚上/components/common/RHX/defaultAdd/defaultAdd.vue?5aeb","webpack:///E:/慧聪/代码/SVN/慧聪陌拜svn12.13/12.13.晚上/components/common/RHX/defaultAdd/defaultAdd.vue","webpack:///E:/慧聪/代码/SVN/慧聪陌拜svn12.13/12.13.晚上/components/common/yaSuoFile/imgYaSuo.vue?ac45","webpack:///E:/慧聪/代码/SVN/慧聪陌拜svn12.13/12.13.晚上/components/common/yaSuoFile/imgYaSuo.vue?7cff","webpack:///E:/慧聪/代码/SVN/慧聪陌拜svn12.13/12.13.晚上/components/common/yaSuoFile/imgYaSuo.vue?4079","webpack:///E:/慧聪/代码/SVN/慧聪陌拜svn12.13/12.13.晚上/components/common/yaSuoFile/imgYaSuo.vue?1338","webpack:///E:/慧聪/代码/SVN/慧聪陌拜svn12.13/12.13.晚上/components/common/yaSuoFile/imgYaSuo.vue","webpack:///E:/慧聪/代码/SVN/慧聪陌拜svn12.13/12.13.晚上/components/common/RHX/defaultAdd/defaultAdd.vue?18ed","webpack:///E:/慧聪/代码/SVN/慧聪陌拜svn12.13/12.13.晚上/components/common/RHX/defaultAdd/defaultAdd.vue?d2b8"],"names":["_self","console","log","name","props","data","serverUploadSuccess","serverUrl","imageList","created","methods","clickShow","$emit","addImage","uni","chooseImage","count","success","e","imagePathArr","tempFilePaths","$refs","imgYaSuo","yasuoImg","then","tempFilePath","uploadFile","url","fileType","formData","filePath","res","statusCode","JSON","parse","request","fileName","method","dataType","header","imgUrl","httpUrl","fail","quality","type","Number","default","maxwh","changes","Function","imageW","imageH","redio","yasuo","img","Promise","resolve","reject","getImageInfo","src","ratio","parseFloat","width","height","parseInt","ctx","createCanvasContext","drawImage","path","draw","replace","canvasToTempFilePath","x","y","destWidth","destHeight","canvasId","res2","oldWidth","oldHeight","imgs","val","resolves","length","push","imgs2","i"],"mappings":"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","file":"components/common/RHX/defaultAdd/defaultAdd.js","sourcesContent":["import { render, staticRenderFns } from \"./defaultAdd.vue?vue&type=template&id=2a6ab8da&scoped=true&\"\nimport script from \"./defaultAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./defaultAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./defaultAdd.vue?vue&type=style&index=0&id=2a6ab8da&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a6ab8da\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('2a6ab8da', component.options)\n    } else {\n      api.reload('2a6ab8da', component.options)\n    }\n    module.hot.accept(\"./defaultAdd.vue?vue&type=template&id=2a6ab8da&scoped=true&\", function () {\n      api.rerender('2a6ab8da', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/慧聪/代码/SVN/慧聪陌拜svn12.13/12.13.晚上/components/common/RHX/defaultAdd/defaultAdd.vue\"\nexport default component.exports","export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./defaultAdd.vue?vue&type=template&id=2a6ab8da&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./defaultAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./defaultAdd.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\tvar _self;\n\n\n\n\n\n\t\tconsole.log('引入小程序图片压缩组件');\n\n\timport imgYaSuo from '@/components/common/yaSuoFile/imgYaSuo';\nexport default {\n\tname: 'change-img-tips',\n\tprops: ['imgDefaultSrc', 'widthStyle', 'heightStyle'],\n\tdata() {\n\t\treturn {\n\t\t\tserverUploadSuccess: 'https://img01.iambuyer.com/imgup/upLoad/uploadSuccess',\n\t\t\tserverUrl: 'https://img01.iambuyer.com/imgup/upLoad/fileUpload',\n\t\t\timageList: []\n\t\t};\n\t},\n\tcreated () {\n\t},\n\tmethods: {\n\t\tclickShow() {\n\t\t\tthis.$emit('show-img');\n\t\t},\n\t\taddImage: function(){\n\t\t\t_self = this\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1, // 最多可以选择的图片张数,这里设置了1张\n\t\t\t\tsuccess: function(e){\n\t\t\t\t\tconsole.log(e, '上传图片');\n\t\t\t\t\tvar imagePathArr = e.tempFilePaths\n\t\t\t\t\t\n\t\t\t\t\t//如果设置了limit限制，在web上count参数无效，这里做判断控制选择的数量是否合要求\n\t\t\t\t\t//在非微信小程序里，虽然可以选多张，但选择的结果会被截掉\n\t\t\t\t\t//在app里，会自动做选择数量的限制\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\t\t\t\tconsole.log('进入小程序图片压缩');\n\t\t\t\t\t\tconsole.log(imagePathArr[0]);\n\t\t\t\t\t\t_self.$refs.imgYaSuo.yasuoImg(imagePathArr).then(e=>{\n\t\t\t\t\t\t    console.log([imagePathArr,e], '压缩后对比数据');\n\t\t\t\t\t\t\timagePathArr[0] = e[0].tempFilePath;\n\t\t\t\t\t\t\tconsole.log('开始了');\n\t\t\t\t\t\t\tif (_self.serverUrl) {\n\t\t\t\t\t\t\t\tuni.uploadFile({\n\t\t\t\t\t\t\t\t\turl: _self.serverUrl,\n\t\t\t\t\t\t\t\t\tfileType: 'image',\n\t\t\t\t\t\t\t\t\tformData: _self.formData,\n\t\t\t\t\t\t\t\t\tfilePath: imagePathArr[0],\n\t\t\t\t\t\t\t\t\tname: 'file',\n\t\t\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t\t\tif (res.statusCode === 200) {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(JSON.parse(res.data), '上传成功');\n\t\t\t\t\t\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\t\t\t\t\t\turl: _self.serverUploadSuccess, //接口地址。\n\t\t\t\t\t\t\t\t\t\t\t\tdata: { fileName: JSON.parse(res.data).name },\n\t\t\t\t\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\t\t\t\t\tdataType: 'from-data',\n\t\t\t\t\t\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (res.statusCode === 200) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(JSON.parse(res.data), '上传成功');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet imgUrl = JSON.parse(res.data).httpUrl;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_self.$emit('change-Image', imgUrl);\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tfail: function(res) {}\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfail: function(res) {}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n};\n","import { render, staticRenderFns } from \"./imgYaSuo.vue?vue&type=template&id=96982ef0&\"\nimport script from \"./imgYaSuo.vue?vue&type=script&lang=js&\"\nexport * from \"./imgYaSuo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('96982ef0', component.options)\n    } else {\n      api.reload('96982ef0', component.options)\n    }\n    module.hot.accept(\"./imgYaSuo.vue?vue&type=template&id=96982ef0&\", function () {\n      api.rerender('96982ef0', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/慧聪/代码/SVN/慧聪陌拜svn12.13/12.13.晚上/components/common/yaSuoFile/imgYaSuo.vue\"\nexport default component.exports","export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./imgYaSuo.vue?vue&type=template&id=96982ef0&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./imgYaSuo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./imgYaSuo.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n\n// 图片批量压缩使用说明  返回值h5=base64 字符串，微信小程序/h5+ 返回=图片地址链接\n// 父页面<compress ref=\"compress\" :maxwh=\"maxwh=720\" :quality=\"quality=0.8\" @changes=\"callback =function(e){}\"> </compress>\n// 两种使用方式 \n// 1监听changes函数获得处理完成返回执\n// 2 使用 this.$refs.compress.yasuoImg(['bold:eqweew.jpg','bold:'fdsfdsf,jpg']).then(e=>{\n//                        console.log(e) //返回值\n//                    })\nexport default {\n    name: 'image-compress',\n    props: {\n        quality: {\n            //质量\n            type: Number,\n            default: 1\n        },\n        maxwh: {\n            //最大宽高尺寸像素\n            type: Number,\n            default: 1920\n        },\n        changes: {\n            //监听变化\n            type: Function,\n            default: null\n        }\n    },\n\n    data() {\n        return {\n            imageW: this.maxwh,\n            imageH: this.maxwh,\n            redio: 1,\n        }\n    },\n    methods: {\n        yasuo(img) {\n            return new Promise((resolve, reject) => {\n                uni.getImageInfo({\n                    src: img,\n                    success: (res) => {\n                        var ratio = parseFloat(res.width / res.height); //获得图片实际的宽高比\n                        var width = res.width;\n                        var height = res.height;\n                        // console.log(this.maxwh)\n                        var maxwh = this.maxwh;\n                        if (width > maxwh || height > maxwh) {\n                            if (width > height) {\n                                width = maxwh;\n                                height = parseInt(width / ratio);\n                            } else {\n                                height = maxwh;\n                                width = parseInt(height * ratio);\n                            }\n                        }\n\n                        this.imageW = width;\n                        this.imageH = height;\n                        // 将图片写入画布\n                        var ctx = uni.createCanvasContext('myCanvas', this);\n                        ctx.drawImage(res.path, 0, 0, width, height);\n                        // console.log(ctx)\n                        ctx.draw(true, (e) => {\n                            // console.log(e)\n                            // 获取画布要裁剪的位置和宽度   均为百分比 * 画布中图片的宽度  \n                            var fileType = res.path.replace(/^.+\\./, '');\n                            if (fileType == 'png') {\n                                fileType = 'png';\n                            } else {\n                                fileType = 'jpg';\n                            }\n                            // console.log(fileType)\n                            uni.canvasToTempFilePath({\n                                x: 0,\n                                y: 0,\n                                width: width,\n                                height: height,\n                                destWidth: width,\n                                destHeight: height,\n                                quality: this.quality,\n                                canvasId: 'myCanvas',\n                                fileType: fileType,\n                                success: (res2) => {\n                                    // console.log(res)\n                                    res2.oldWidth = res.width;\n                                    res2.oldHeight = res.height;\n                                    res2.width = width;\n                                    res2.height = height;\n                                    res2.path = res.path;\n                                    res2.fileType = fileType;\n                                    resolve(res2)\n\n\n                                }\n                            }, this);\n                        });\n\n                    }\n                })\n            })\n        },\n        yasuoImg(imgs, val) {\n\n            var val = val || [];\n            var imgs = imgs;\n            return new Promise((resolve, reject) => {\n                var resolves = resolves || resolve;\n                if (typeof imgs == 'object') {\n\n                    if (imgs.length) {\n                        this.yasuo(imgs[0]).then(e => {\n                            val.push(e)\n                            var imgs2 = [];\n                            for (var i = 0; i < imgs.length; i++) {\n                                if (i != 0) {\n                                    imgs2.push(imgs[i])\n                                }\n                            }\n                            this.yasuoImg(imgs2, val).then(e => {\n                                resolve(e)\n                            })\n\n                        })\n\n                    } else {\n                        resolve(val)\n                        this.$emit(\"changes\", val);\n                    }\n                } else {\n\n                    this.yasuoImg(imgs).then(e => {\n                        resolve(val)\n                        this.$emit(\"changes\", val);\n                    })\n                }\n            })\n        }\n    }\n\n}\n","import mod from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--11-oneOf-1-0!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--11-oneOf-1-2!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--11-oneOf-1-3!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\stylus-loader\\\\index.js??ref--11-oneOf-1-4!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-5!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./defaultAdd.vue?vue&type=style&index=0&id=2a6ab8da&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--11-oneOf-1-0!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--11-oneOf-1-2!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--11-oneOf-1-3!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\stylus-loader\\\\index.js??ref--11-oneOf-1-4!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-5!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./defaultAdd.vue?vue&type=style&index=0&id=2a6ab8da&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}