<<<<<<< HEAD
<<<<<<< HEAD
{"version":3,"sources":["webpack:///E:/慧聪/代码/SVN/慧聪陌拜svn12.13/12.13.晚上/main.js","webpack:///E:/慧聪/代码/SVN/慧聪陌拜svn12.13/12.13.晚上/modules/publishPurchase/publishPurchase.vue?fddb","webpack:///E:/慧聪/代码/SVN/慧聪陌拜svn12.13/12.13.晚上/modules/publishPurchase/publishPurchase.vue?2ca5","webpack:///E:/慧聪/代码/SVN/慧聪陌拜svn12.13/12.13.晚上/modules/publishPurchase/publishPurchase.vue?026f","webpack:///E:/慧聪/代码/SVN/慧聪陌拜svn12.13/12.13.晚上/modules/publishPurchase/publishPurchase.vue?42d1","webpack:///E:/慧聪/代码/SVN/慧聪陌拜svn12.13/12.13.晚上/modules/publishPurchase/publishPurchase.vue"],"names":["createPage","Page","components","navigation","contontEdit","contontPreview","data","loadEnd","routeParam","businessTemList","caiGouDetileData","listData","serverUrl","imageData","caiGouList","paraList","requList","imgList","userId","purcTitle","purcSpec","purcCount","purcUnit","purcPcode","purcCcode","purcCcodeStr","purcContent","purcDefault","purcInvo","purcFrei","purcEndTime","purcReceTime","purcState","purcType","onLoad","optionParams","$store","commit","console","log","option","urlCrypto","urlParams","sourceTemp","GET_PUBLISH","publishPurchase","getDate","getCaiGouTemplate","getBusinessList","shareEachPage","getPurchaseList","computed","watch","handler","a","b","deep","created","mounted","beforeDestroy","methods","setTempletType","setCaiGouList","e","params","uni","showLoading","title","UserId","getStorageSync","landRegistLG","JSON","parse","user","id","undefined","request","url","api2","method","header","Authorization","success","response","ret","hideLoading","showToast","icon","duration","fail","error","purcId","lookUserId","content","setNavigationBarTitle","setStorageSync","date","dateTime","day","hour","minute","map","items","index","itemsImage","imgUrl","push","Intro","createMan","shareTitle","shareIntro","shareImg","length","shareLink","origin","paramsNeed","type","isFlow","_this","setTimeout","pageStatus","clickBusinessPutIn","token"],"mappings":"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","file":"modules/publishPurchase/publishPurchase.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './modules/publishPurchase/publishPurchase.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./publishPurchase.vue?vue&type=template&id=4f528c6c&\"\nimport script from \"./publishPurchase.vue?vue&type=script&lang=js&\"\nexport * from \"./publishPurchase.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('4f528c6c', component.options)\n    } else {\n      api.reload('4f528c6c', component.options)\n    }\n    module.hot.accept(\"./publishPurchase.vue?vue&type=template&id=4f528c6c&\", function () {\n      api.rerender('4f528c6c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/慧聪/代码/SVN/慧聪陌拜svn12.13/12.13.晚上/modules/publishPurchase/publishPurchase.vue\"\nexport default component.exports","export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./publishPurchase.vue?vue&type=template&id=4f528c6c&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./publishPurchase.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./publishPurchase.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport contontEdit from './selectTemplate/contontEdit.vue';\nimport contontPreview from './selectTemplate/contontPreview.vue';\nimport navigation from '@/components/mbbo/navigation/navigation.vue';\nimport date from '@/static/mbcJs/dateTime.js';\nimport { mapMutations, mapGetters } from 'vuex';\nexport default {\n\tcomponents: {\n\t\tnavigation,\n\t\tcontontEdit,\n\t\tcontontPreview\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloadEnd: false, // 判断所有接口是否加载完成\n\t\t\trouteParam: null, // 路由参数；\n\t\t\tbusinessTemList: null,\n\t\t\tcaiGouDetileData: null,\n\t\t\tlistData: {\n\t\t\t\tserverUrl: \"https://img01.iambuyer.com/imgup/upLoad/fileUpload\",\n\t\t\t\timageData: []\n\t\t\t},\n\t\t\tcaiGouList: {\n\t\t\t\tparaList: [\n\t\t\t\t],\n\t\t\t\trequList: [\n\t\t\t\t],\n\t\t\t\timgList: [],\n\t\t\t\tuserId: 760,\n\t\t\t\tpurcTitle: '',\n\t\t\t\tpurcSpec: '',\n\t\t\t\tpurcCount: 1,\n\t\t\t\tpurcUnit: '',\n\t\t\t\tpurcPcode: '',\n\t\t\t\tpurcCcode: '',\n\t\t\t\tpurcCcodeStr: '', // 省市区页面展示\n\t\t\t\tpurcContent: '',\n\t\t\t\tpurcDefault: '0', // 不是默认模板\n\t\t\t\tpurcInvo: '1', // 默认含税\n\t\t\t\tpurcFrei: '1', // 默认含运费\n\t\t\t\tpurcEndTime: '',\n\t\t\t\tpurcReceTime: '0-0-0',\n\t\t\t\tpurcState: '',\n\t\t\t\tpurcType: '0' // 0简单采购 1参数采购\n\t\t\t} // 采购数据\n\t\t};\n\t},\n\tonLoad(optionParams) {\n\t\tthis.$store.commit('setPreviceCaiGou', false); // 更新setPreviceCaiGou\n\t\tthis.$store.commit('setImgList', this.listData); // 更新ssetImgList\n\t\tthis.$store.commit('setCaiGouList', this.caiGouList); // 跟新采购列表数据\n\t\t// option说明：\n\t\t// isMenu: 是否存在中间的横向导航\n\t\t// isFlow: 是否来自流量平台 0否， 1是\n\t\t// aiListTemp： 是否展示AI列表，1展示， 0不展示\n\t\t// orderType: 0定制订单 1标品订单\n\t\t// lookUserId: 用户id 选填 谁在看这个说明书 用于用户交互行为\n\t\t// sourceTemp： 从哪里进来的：0代表：模板列表，1代表：AI推送列表，2代表:发现列表，3代表：流量承载页， 4代表：我的说明书列表， 5代表.....\n\t\t// instrucId: 说明书id\n\t\t// purcId: 查看者id\n\t\t// creatorId: 说明书创建者\n\t\t// purcState： 说明书状态\n\t\tconsole.log('加载发布采购');\n\t\tlet option = this.urlCrypto(optionParams.urlParams, 1);\n\t\tconsole.log(option, '---------------加载发布采购参数-------------')\n\t\tthis.routeParam = option;\n\t\tif (option.sourceTemp === 0) {\n\t\t\tconsole.log('来源模板！');\n\t\t\tthis.caiGouList = this.GET_PUBLISH.publishPurchase.caiGouList;\n\t\t\tthis.caiGouList.purcEndTime = this.getDate(3, 'later'); // 报价截至时间，默认三天后又截至\n\t\t\tthis.getCaiGouTemplate();\n\t\t\tthis.getBusinessList();\n\t\t\tthis.shareEachPage(); // 分享\n\t\t} else if (option.sourceTemp === 4) {\n\t\t\tthis.getPurchaseList(option);\n\t\t} else if (option.sourceTemp === 2) {\n\t\t\tthis.getPurchaseList(option);\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters(['GET_PUBLISH', 'QUICKNAVCO'])\n\t},\n\twatch: {\n\t\tGET_PUBLISH: {\n\t\t\thandler(a, b) {\n\t\t\t\tthis.caiGouList = a.publishPurchase.caiGouList;\n\t\t\t},\n\t\t\tdeep: true\n\t\t}\n\t},\n\tcreated () {\n\t\t// this.shareEachPage(); // 分享\n\t},\n\tmounted () {\n\t},\n\tbeforeDestroy () {\n\t\tconsole.log('页面销毁之前缓存数据更新-----------setImgList、setCaiGouList');\n\t\tif (this.routeParam.sourceTemp === 2 || this.routeParam.sourceTemp === 3) {\n\t\t\t// 先去判断是否来自流量承载页，或者是平台\n\t\t\t// let parmas = {\n\t\t\t// \tuserId: this.routeParam.lookUserId,\n\t\t\t// \tid: this.routeParam.purcId,\n\t\t\t// \ttype: 0,\n\t\t\t// \tstopTime: this.userStopTime\n\t\t\t// };\n\t\t\t// this.platformAccount(this.routeParam.isFlow, 0, parmas, this.routeParam);\n\t\t\tthis.$store.commit('setPreviceCaiGou', false); // 更新setPreviceCaiGou\n\t\t}\n\t},\n\tmethods: {\n\t\t...mapMutations({\n\t\t\tsetTempletType: 'setTempletType',\n\t\t\tsetCaiGouList: 'setCaiGouList'\n\t\t}),\n\t\t// 拉去商家信息详情\n\t\tgetBusinessList(e){\n\t\t\tlet params = {}; // 请求总数居时 参数为空\n\t\t\tuni.showLoading({\n\t\t\t\t// 展示loading\n\t\t\t\ttitle: '加载中'\n\t\t\t});\n\t\t\tlet UserId = null;\n\t\t\tif (uni.getStorageSync('landRegist')) {\n\t\t\t\tlet landRegistLG = JSON.parse(uni.getStorageSync('landRegist'));\n\t\t\t\tUserId = landRegistLG.user.id;\n\t\t\t}\n\t\t\tif (e && e !== undefined) {\n\t\t\t\tUserId = e;\n\t\t\t}\n\t\t\tuni.request({\n\t\t\t\turl: this.api2 + '/rest-rp/instruc/userInfo?userId=' + UserId, //接口地址。\n\t\t\t\tdata: params,\n\t\t\t\tmethod: 'GET',\n\t\t\t\theader: {\n\t\t\t\t\tAuthorization: 'Bearer ' //将token放到请求头中\n\t\t\t\t},\n\t\t\t\tsuccess: response => {\n\t\t\t\t\tconsole.log(response.data, '---------------response.data--------------')\n\t\t\t\t\tif (response.data.ret === '200') {\n\t\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\t\tthis.businessTemList = response.data;\n\t\t\t\t\t\tthis.loadEnd = true; // 加载完成\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '网络开小差了，请稍后重试',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: error => {\n\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '网络繁忙，请稍后',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t});\n\t\t\t\t\tconsole.log(error, '网络繁忙，请稍后');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetPurchaseList(option) {\n\t\t\tconsole.log('获取采购信息数据！');\n\t\t\tconsole.log(option, '链接上的参数');\n\t\t\tthis.$store.commit('setPreviceCaiGou', true); // 更新setPreviceCaiGou\n\t\t\tlet params = {}; // 请求总数居时 参数为空\n\t\t\tuni.showLoading({\n\t\t\t\t// 展示loading\n\t\t\t\ttitle: '加载中'\n\t\t\t});\n\t\t\tuni.request({\n\t\t\t\turl: this.api2 + '/rest-rp/purc/selectInfo?id=' + option.purcId + \"&lookUserId=\" + option.lookUserId, //接口地址。\n\t\t\t\tdata: params,\n\t\t\t\tmethod: 'GET',\n\t\t\t\theader: {\n\t\t\t\t\tAuthorization: 'Bearer ' //将token放到请求头中\n\t\t\t\t},\n\t\t\t\tsuccess: response => {\n\t\t\t\t\tconsole.log(response.data, '---------------response.data--------------')\n\t\t\t\t\tif (response.data.ret === '200') {\n\t\t\t\t\t\tthis.caiGouDetileData = response.data.content;\n\t\t\t\t\t\tuni.setNavigationBarTitle({\n\t\t\t\t\t\t\ttitle: this.caiGouDetileData.purcTitle\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet content = response.data.content;\n\t\t\t\t\t\tthis.caiGouList.purcType = content.purcType;\n\t\t\t\t\t\tthis.caiGouList.paraList = content.paraList;\n\t\t\t\t\t\tthis.caiGouList.requList = content.requList;\n\t\t\t\t\t\tif (this.caiGouList.purcType === '0') { // 设置简单模板\n\t\t\t\t\t\t\tthis.$store.commit('setTempletType', 0);\n\t\t\t\t\t\t\tuni.setStorageSync('purcType', 0);\n\t\t\t\t\t\t\tthis.caiGouList.purcDefault = '0'\n\t\t\t\t\t\t} else if (this.caiGouList.purcType === '1') { // 设置普通模板\n\t\t\t\t\t\t\tthis.$store.commit('setTempletType', 1);\n\t\t\t\t\t\t\tuni.setStorageSync('purcType', 1);\n\t\t\t\t\t\t\tthis.caiGouList.purcDefault = '1'\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.caiGouList.id = content.id;\n\t\t\t\t\t\tthis.caiGouList.purcEndTime = date.dateTime('-', content.purcEndTime);\n\t\t\t\t\t\tthis.caiGouList.day = content.day; // 倒计时天数\n\t\t\t\t\t\tthis.caiGouList.hour = content.hour; //倒计时小时\n\t\t\t\t\t\tthis.caiGouList.minute =content.minute; // 倒计时分钟\n\t\t\t\t\t\tthis.caiGouList.purcCcodeStr = content.purcCcodeStr;\n\t\t\t\t\t\tthis.caiGouList.purcTitle = content.purcTitle;\n\t\t\t\t\t\tthis.caiGouList.purcContent = content.purcContent;\n\t\t\t\t\t\tif (content.purcReceTime === 0) {\n\t\t\t\t\t\t\tthis.caiGouList.purcReceTime = ''\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.caiGouList.purcReceTime = date.dateTime('-', content.purcReceTime);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet listData = {\n\t\t\t\t\t\t\tserverUrl: \"https://img01.iambuyer.com/imgup/upLoad/fileUpload\",\n\t\t\t\t\t\t\timageData: []\n\t\t\t\t\t\t};\n\t\t\t\t\t\tcontent.imgList.map((items, index)=>{\n\t\t\t\t\t\t\tif (items) {\n\t\t\t\t\t\t\t\tlet itemsImage={\n\t\t\t\t\t\t\t\t\timgUrl: items\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tlistData.imageData.push(itemsImage);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconsole.log(listData, '附件数据');\n\t\t\t\t\t\tthis.$store.commit('setImgList', listData); // 更新ssetImgList\n\t\t\t\t\t\tthis.caiGouList.imgList = content.imgList;\n\t\t\t\t\t\tconsole.log(this.caiGouList, '------------this.caiGouList-------------')\n\t\t\t\t\t\tthis.$store.commit('setCaiGouList', this.caiGouList); // 跟新采购列表数据\n\t\t\t\t\t\tthis.loadEnd = true; // 加载完成\n\t\t\t\t\t\t// 分享\n\t\t\t\t\t\tif (this.routeParam.purcState !== '1') {\n\t\t\t\t\t\t\tthis.shareEachPage(null, null, null, null, null); // 分享\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet Intro = `采购者:【${this.caiGouDetileData.createMan}】`;\n\t\t\t\t\t\t\tlet params = { // 分享参数\n\t\t\t\t\t\t\t\tshareTitle: this.caiGouDetileData.purcTitle, // 分享标题\n\t\t\t\t\t\t\t\tshareIntro: Intro, // 分享文字介绍\n\t\t\t\t\t\t\t\tshareImg: this.caiGouDetileData.imgList.length > 0 ? this.caiGouDetileData.imgList[0] : 'https://style.iambuyer.com/img/shareimg.png', // 分享图片\n\t\t\t\t\t\t\t\tshareLink: this.origin + '/#/modules/publishPurchase/publishPurchase?urlParams=' + this.urlCrypto(this.routeParam, 0)// 分享链接\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tlet paramsNeed = { // 计数参数\n\t\t\t\t\t\t\t\tuserId: this.routeParam.lookUserId,\n\t\t\t\t\t\t\t\tid: this.routeParam.purcId,\n\t\t\t\t\t\t\t\ttype: 1\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tlet isFlow = this.routeParam.isFlow;\n\t\t\t\t\t\t\tthis.shareEachPage(params, 1, paramsNeed, isFlow, this.routeParam); // 分享\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet _this = this;\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t_this.pageStatus = false,\n\t\t\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\t\t}, 150);\n\t\t\t\t\t\tthis.getBusinessList(content.userId);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '网络开小差了，请稍后重试',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: error => {\n\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '网络繁忙，请稍后',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t});\n\t\t\t\t\tconsole.log(error, '网络繁忙，请稍后');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tclickBusinessPutIn() {\n\t\t\tthis.$store.commit('setTempletType', 0);\n\t\t\tconsole.log('触发商机投放组件按钮');\n\t\t},\n\t\tgetCaiGouTemplate() {\n\t\t\tconsole.log('记载用户默认采购模板');\n\t\t\tif (uni.getStorageSync('landRegist')) {\n\t\t\t\tlet landRegistLG = JSON.parse(uni.getStorageSync('landRegist')); // 读取缓存的用户信息\n\t\t\t\tconsole.log(landRegistLG.user.id);\n\t\t\t\tlet params = {};\n\t\t\t\tuni.showLoading({\n\t\t\t\t\t// 展示loading\n\t\t\t\t\ttitle: '加载中'\n\t\t\t\t});\n\t\t\t\tuni.request({\n\t\t\t\t\turl: this.api2 + '/rest-rp/purc/getDefault?userId=' + landRegistLG.user.id, //接口地址。\n\t\t\t\t\tdata: params,\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theader: {\n\t\t\t\t\t\tAuthorization: 'Bearer ' + landRegistLG.token //将token放到请求头中\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: response => {\n\t\t\t\t\t\tif (response.data.ret === '200') {\n\t\t\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\t\t\tlet content = response.data.content;\n\t\t\t\t\t\t\tthis.caiGouList.purcType = content.purcType;\n\t\t\t\t\t\t\tthis.caiGouList.paraList = content.paraList;\n\t\t\t\t\t\t\tthis.caiGouList.requList = content.requList;\n\t\t\t\t\t\t\tif (this.caiGouList.purcType === '0') { // 设置简单模板\n\t\t\t\t\t\t\t\tthis.$store.commit('setTempletType', 0);\n\t\t\t\t\t\t\t} else if (this.caiGouList.purcType === '1') { // 设置普通模板\n\t\t\t\t\t\t\t\tthis.$store.commit('setTempletType', 1);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tthis.$store.commit('setCaiGouList', this.caiGouList); // 跟新采购列表数据\n\t\t\t\t\t\t\tthis.loadEnd = true; // 加载完成\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '网络开小差了，请稍后重试',\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: error => {\n\t\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '网络繁忙，请稍后',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconsole.log(error, '网络繁忙，请稍后');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n};\n"],"sourceRoot":""}
=======
{"version":3,"sources":["webpack:///E:/MB/mb-yun/modules/publishPurchase/publishPurchase.vue?1c2b","webpack:///E:/MB/mb-yun/modules/publishPurchase/publishPurchase.vue?d008","webpack:///E:/MB/mb-yun/modules/publishPurchase/publishPurchase.vue?6090","webpack:///E:/MB/mb-yun/modules/publishPurchase/publishPurchase.vue?5a14","webpack:///E:/MB/mb-yun/modules/publishPurchase/publishPurchase.vue"],"names":["components","navigation","contontEdit","contontPreview","data","loadEnd","routeParam","businessTemList","caiGouDetileData","listData","serverUrl","imageData","caiGouList","paraList","requList","imgList","userId","purcTitle","purcSpec","purcCount","purcUnit","purcPcode","purcCcode","purcCcodeStr","purcContent","purcDefault","purcInvo","purcFrei","purcEndTime","purcReceTime","purcState","purcType","onLoad","optionParams","$store","commit","console","log","option","urlCrypto","urlParams","sourceTemp","GET_PUBLISH","publishPurchase","getDate","getCaiGouTemplate","getBusinessList","shareEachPage","getPurchaseList","computed","watch","handler","a","b","deep","created","mounted","beforeDestroy","methods","setTempletType","setCaiGouList","e","params","uni","showLoading","title","UserId","getStorageSync","landRegistLG","JSON","parse","user","id","undefined","request","url","api2","method","header","Authorization","success","response","ret","hideLoading","showToast","icon","duration","fail","error","purcId","lookUserId","content","setNavigationBarTitle","setStorageSync","date","dateTime","day","hour","minute","map","items","index","itemsImage","imgUrl","push","Intro","createMan","shareTitle","shareIntro","shareImg","length","shareLink","origin","paramsNeed","type","isFlow","_this","setTimeout","pageStatus","clickBusinessPutIn","token"],"mappings":"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","file":"modules/publishPurchase/publishPurchase.js","sourcesContent":["import { render, staticRenderFns } from \"./publishPurchase.vue?vue&type=template&id=489cb2a2&\"\nimport script from \"./publishPurchase.vue?vue&type=script&lang=js&\"\nexport * from \"./publishPurchase.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('489cb2a2', component.options)\n    } else {\n      api.reload('489cb2a2', component.options)\n    }\n    module.hot.accept(\"./publishPurchase.vue?vue&type=template&id=489cb2a2&\", function () {\n      api.rerender('489cb2a2', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/MB/mb-yun/modules/publishPurchase/publishPurchase.vue\"\nexport default component.exports","export * from \"-!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./publishPurchase.vue?vue&type=template&id=489cb2a2&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./publishPurchase.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./publishPurchase.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport contontEdit from './selectTemplate/contontEdit.vue';\nimport contontPreview from './selectTemplate/contontPreview.vue';\nimport navigation from '@/components/mbbo/navigation/navigation.vue';\nimport date from '@/static/mbcJs/dateTime.js';\nimport { mapMutations, mapGetters } from 'vuex';\nexport default {\n\tcomponents: {\n\t\tnavigation,\n\t\tcontontEdit,\n\t\tcontontPreview\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloadEnd: false, // 判断所有接口是否加载完成\n\t\t\trouteParam: null, // 路由参数；\n\t\t\tbusinessTemList: null,\n\t\t\tcaiGouDetileData: null,\n\t\t\tlistData: {\n\t\t\t\tserverUrl: \"https://img01.iambuyer.com/imgup/upLoad/fileUpload\",\n\t\t\t\timageData: []\n\t\t\t},\n\t\t\tcaiGouList: {\n\t\t\t\tparaList: [\n\t\t\t\t],\n\t\t\t\trequList: [\n\t\t\t\t],\n\t\t\t\timgList: [],\n\t\t\t\tuserId: 760,\n\t\t\t\tpurcTitle: '',\n\t\t\t\tpurcSpec: '',\n\t\t\t\tpurcCount: 1,\n\t\t\t\tpurcUnit: '',\n\t\t\t\tpurcPcode: '',\n\t\t\t\tpurcCcode: '',\n\t\t\t\tpurcCcodeStr: '', // 省市区页面展示\n\t\t\t\tpurcContent: '',\n\t\t\t\tpurcDefault: '0', // 不是默认模板\n\t\t\t\tpurcInvo: '1', // 默认含税\n\t\t\t\tpurcFrei: '1', // 默认含运费\n\t\t\t\tpurcEndTime: '',\n\t\t\t\tpurcReceTime: '0-0-0',\n\t\t\t\tpurcState: '',\n\t\t\t\tpurcType: '0' // 0简单采购 1参数采购\n\t\t\t} // 采购数据\n\t\t};\n\t},\n\tonLoad(optionParams) {\n\t\tthis.$store.commit('setPreviceCaiGou', false); // 更新setPreviceCaiGou\n\t\tthis.$store.commit('setImgList', this.listData); // 更新ssetImgList\n\t\tthis.$store.commit('setCaiGouList', this.caiGouList); // 跟新采购列表数据\n\t\t// option说明：\n\t\t// isMenu: 是否存在中间的横向导航\n\t\t// isFlow: 是否来自流量平台 0否， 1是\n\t\t// aiListTemp： 是否展示AI列表，1展示， 0不展示\n\t\t// orderType: 0定制订单 1标品订单\n\t\t// lookUserId: 用户id 选填 谁在看这个说明书 用于用户交互行为\n\t\t// sourceTemp： 从哪里进来的：0代表：模板列表，1代表：AI推送列表，2代表:发现列表，3代表：流量承载页， 4代表：我的说明书列表， 5代表.....\n\t\t// instrucId: 说明书id\n\t\t// purcId: 查看者id\n\t\t// creatorId: 说明书创建者\n\t\t// purcState： 说明书状态\n\t\tconsole.log('加载发布采购');\n\t\tlet option = this.urlCrypto(optionParams.urlParams, 1);\n\t\tconsole.log(option, '---------------加载发布采购参数-------------')\n\t\tthis.routeParam = option;\n\t\tif (option.sourceTemp === 0) {\n\t\t\tconsole.log('来源模板！');\n\t\t\tthis.caiGouList = this.GET_PUBLISH.publishPurchase.caiGouList;\n\t\t\tthis.caiGouList.purcEndTime = this.getDate(3, 'later'); // 报价截至时间，默认三天后又截至\n\t\t\tthis.getCaiGouTemplate();\n\t\t\tthis.getBusinessList();\n\t\t\tthis.shareEachPage(); // 分享\n\t\t} else if (option.sourceTemp === 4) {\n\t\t\tthis.getPurchaseList(option);\n\t\t} else if (option.sourceTemp === 2) {\n\t\t\tthis.getPurchaseList(option);\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters(['GET_PUBLISH', 'QUICKNAVCO'])\n\t},\n\twatch: {\n\t\tGET_PUBLISH: {\n\t\t\thandler(a, b) {\n\t\t\t\tthis.caiGouList = a.publishPurchase.caiGouList;\n\t\t\t},\n\t\t\tdeep: true\n\t\t}\n\t},\n\tcreated () {\n\t\t// this.shareEachPage(); // 分享\n\t},\n\tmounted () {\n\t},\n\tbeforeDestroy () {\n\t\tconsole.log('页面销毁之前缓存数据更新-----------setImgList、setCaiGouList');\n\t\tif (this.routeParam.sourceTemp === 2 || this.routeParam.sourceTemp === 3) {\n\t\t\t// 先去判断是否来自流量承载页，或者是平台\n\t\t\t// let parmas = {\n\t\t\t// \tuserId: this.routeParam.lookUserId,\n\t\t\t// \tid: this.routeParam.purcId,\n\t\t\t// \ttype: 0,\n\t\t\t// \tstopTime: this.userStopTime\n\t\t\t// };\n\t\t\t// this.platformAccount(this.routeParam.isFlow, 0, parmas, this.routeParam);\n\t\t\tthis.$store.commit('setPreviceCaiGou', false); // 更新setPreviceCaiGou\n\t\t}\n\t},\n\tmethods: {\n\t\t...mapMutations({\n\t\t\tsetTempletType: 'setTempletType',\n\t\t\tsetCaiGouList: 'setCaiGouList'\n\t\t}),\n\t\t// 拉去商家信息详情\n\t\tgetBusinessList(e){\n\t\t\tlet params = {}; // 请求总数居时 参数为空\n\t\t\tuni.showLoading({\n\t\t\t\t// 展示loading\n\t\t\t\ttitle: '加载中'\n\t\t\t});\n\t\t\tlet UserId = null;\n\t\t\tif (uni.getStorageSync('landRegist')) {\n\t\t\t\tlet landRegistLG = JSON.parse(uni.getStorageSync('landRegist'));\n\t\t\t\tUserId = landRegistLG.user.id;\n\t\t\t}\n\t\t\tif (e && e !== undefined) {\n\t\t\t\tUserId = e;\n\t\t\t}\n\t\t\tuni.request({\n\t\t\t\turl: this.api2 + '/rest-rp/instruc/userInfo?userId=' + UserId, //接口地址。\n\t\t\t\tdata: params,\n\t\t\t\tmethod: 'GET',\n\t\t\t\theader: {\n\t\t\t\t\tAuthorization: 'Bearer ' //将token放到请求头中\n\t\t\t\t},\n\t\t\t\tsuccess: response => {\n\t\t\t\t\tconsole.log(response.data, '---------------response.data--------------')\n\t\t\t\t\tif (response.data.ret === '200') {\n\t\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\t\tthis.businessTemList = response.data;\n\t\t\t\t\t\tthis.loadEnd = true; // 加载完成\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '网络开小差了，请稍后重试',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: error => {\n\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '网络繁忙，请稍后',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t});\n\t\t\t\t\tconsole.log(error, '网络繁忙，请稍后');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetPurchaseList(option) {\n\t\t\tconsole.log('获取采购信息数据！');\n\t\t\tconsole.log(option, '链接上的参数');\n\t\t\tthis.$store.commit('setPreviceCaiGou', true); // 更新setPreviceCaiGou\n\t\t\tlet params = {}; // 请求总数居时 参数为空\n\t\t\tuni.showLoading({\n\t\t\t\t// 展示loading\n\t\t\t\ttitle: '加载中'\n\t\t\t});\n\t\t\tuni.request({\n\t\t\t\turl: this.api2 + '/rest-rp/purc/selectInfo?id=' + option.purcId + \"&lookUserId=\" + option.lookUserId, //接口地址。\n\t\t\t\tdata: params,\n\t\t\t\tmethod: 'GET',\n\t\t\t\theader: {\n\t\t\t\t\tAuthorization: 'Bearer ' //将token放到请求头中\n\t\t\t\t},\n\t\t\t\tsuccess: response => {\n\t\t\t\t\tconsole.log(response.data, '---------------response.data--------------')\n\t\t\t\t\tif (response.data.ret === '200') {\n\t\t\t\t\t\tthis.caiGouDetileData = response.data.content;\n\t\t\t\t\t\tuni.setNavigationBarTitle({\n\t\t\t\t\t\t\ttitle: this.caiGouDetileData.purcTitle\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet content = response.data.content;\n\t\t\t\t\t\tthis.caiGouList.purcType = content.purcType;\n\t\t\t\t\t\tthis.caiGouList.paraList = content.paraList;\n\t\t\t\t\t\tthis.caiGouList.requList = content.requList;\n\t\t\t\t\t\tif (this.caiGouList.purcType === '0') { // 设置简单模板\n\t\t\t\t\t\t\tthis.$store.commit('setTempletType', 0);\n\t\t\t\t\t\t\tuni.setStorageSync('purcType', 0);\n\t\t\t\t\t\t\tthis.caiGouList.purcDefault = '0'\n\t\t\t\t\t\t} else if (this.caiGouList.purcType === '1') { // 设置普通模板\n\t\t\t\t\t\t\tthis.$store.commit('setTempletType', 1);\n\t\t\t\t\t\t\tuni.setStorageSync('purcType', 1);\n\t\t\t\t\t\t\tthis.caiGouList.purcDefault = '1'\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.caiGouList.id = content.id;\n\t\t\t\t\t\tthis.caiGouList.purcEndTime = date.dateTime('-', content.purcEndTime);\n\t\t\t\t\t\tthis.caiGouList.day = content.day; // 倒计时天数\n\t\t\t\t\t\tthis.caiGouList.hour = content.hour; //倒计时小时\n\t\t\t\t\t\tthis.caiGouList.minute =content.minute; // 倒计时分钟\n\t\t\t\t\t\tthis.caiGouList.purcCcodeStr = content.purcCcodeStr;\n\t\t\t\t\t\tthis.caiGouList.purcTitle = content.purcTitle;\n\t\t\t\t\t\tthis.caiGouList.purcContent = content.purcContent;\n\t\t\t\t\t\tif (content.purcReceTime === 0) {\n\t\t\t\t\t\t\tthis.caiGouList.purcReceTime = ''\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.caiGouList.purcReceTime = date.dateTime('-', content.purcReceTime);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet listData = {\n\t\t\t\t\t\t\tserverUrl: \"https://img01.iambuyer.com/imgup/upLoad/fileUpload\",\n\t\t\t\t\t\t\timageData: []\n\t\t\t\t\t\t};\n\t\t\t\t\t\tcontent.imgList.map((items, index)=>{\n\t\t\t\t\t\t\tif (items) {\n\t\t\t\t\t\t\t\tlet itemsImage={\n\t\t\t\t\t\t\t\t\timgUrl: items\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tlistData.imageData.push(itemsImage);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconsole.log(listData, '附件数据');\n\t\t\t\t\t\tthis.$store.commit('setImgList', listData); // 更新ssetImgList\n\t\t\t\t\t\tthis.caiGouList.imgList = content.imgList;\n\t\t\t\t\t\tconsole.log(this.caiGouList, '------------this.caiGouList-------------')\n\t\t\t\t\t\tthis.$store.commit('setCaiGouList', this.caiGouList); // 跟新采购列表数据\n\t\t\t\t\t\tthis.loadEnd = true; // 加载完成\n\t\t\t\t\t\t// 分享\n\t\t\t\t\t\tif (this.routeParam.purcState !== '1') {\n\t\t\t\t\t\t\tthis.shareEachPage(null, null, null, null, null); // 分享\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet Intro = `采购者:【${this.caiGouDetileData.createMan}】`;\n\t\t\t\t\t\t\tlet params = { // 分享参数\n\t\t\t\t\t\t\t\tshareTitle: this.caiGouDetileData.purcTitle, // 分享标题\n\t\t\t\t\t\t\t\tshareIntro: Intro, // 分享文字介绍\n\t\t\t\t\t\t\t\tshareImg: this.caiGouDetileData.imgList.length > 0 ? this.caiGouDetileData.imgList[0] : 'https://style.iambuyer.com/img/shareimg.png', // 分享图片\n\t\t\t\t\t\t\t\tshareLink: this.origin + '/#/modules/publishPurchase/publishPurchase?urlParams=' + this.urlCrypto(this.routeParam, 0)// 分享链接\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tlet paramsNeed = { // 计数参数\n\t\t\t\t\t\t\t\tuserId: this.routeParam.lookUserId,\n\t\t\t\t\t\t\t\tid: this.routeParam.purcId,\n\t\t\t\t\t\t\t\ttype: 1\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tlet isFlow = this.routeParam.isFlow;\n\t\t\t\t\t\t\tthis.shareEachPage(params, 1, paramsNeed, isFlow, this.routeParam); // 分享\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet _this = this;\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t_this.pageStatus = false,\n\t\t\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\t\t}, 150);\n\t\t\t\t\t\tthis.getBusinessList(content.userId);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '网络开小差了，请稍后重试',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: error => {\n\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '网络繁忙，请稍后',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t});\n\t\t\t\t\tconsole.log(error, '网络繁忙，请稍后');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tclickBusinessPutIn() {\n\t\t\tthis.$store.commit('setTempletType', 0);\n\t\t\tconsole.log('触发商机投放组件按钮');\n\t\t},\n\t\tgetCaiGouTemplate() {\n\t\t\tconsole.log('记载用户默认采购模板');\n\t\t\tif (uni.getStorageSync('landRegist')) {\n\t\t\t\tlet landRegistLG = JSON.parse(uni.getStorageSync('landRegist')); // 读取缓存的用户信息\n\t\t\t\tconsole.log(landRegistLG.user.id);\n\t\t\t\tlet params = {};\n\t\t\t\tuni.showLoading({\n\t\t\t\t\t// 展示loading\n\t\t\t\t\ttitle: '加载中'\n\t\t\t\t});\n\t\t\t\tuni.request({\n\t\t\t\t\turl: this.api2 + '/rest-rp/purc/getDefault?userId=' + landRegistLG.user.id, //接口地址。\n\t\t\t\t\tdata: params,\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theader: {\n\t\t\t\t\t\tAuthorization: 'Bearer ' + landRegistLG.token //将token放到请求头中\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: response => {\n\t\t\t\t\t\tif (response.data.ret === '200') {\n\t\t\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\t\t\tlet content = response.data.content;\n\t\t\t\t\t\t\tthis.caiGouList.purcType = content.purcType;\n\t\t\t\t\t\t\tthis.caiGouList.paraList = content.paraList;\n\t\t\t\t\t\t\tthis.caiGouList.requList = content.requList;\n\t\t\t\t\t\t\tif (this.caiGouList.purcType === '0') { // 设置简单模板\n\t\t\t\t\t\t\t\tthis.$store.commit('setTempletType', 0);\n\t\t\t\t\t\t\t} else if (this.caiGouList.purcType === '1') { // 设置普通模板\n\t\t\t\t\t\t\t\tthis.$store.commit('setTempletType', 1);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tthis.$store.commit('setCaiGouList', this.caiGouList); // 跟新采购列表数据\n\t\t\t\t\t\t\tthis.loadEnd = true; // 加载完成\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '网络开小差了，请稍后重试',\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: error => {\n\t\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '网络繁忙，请稍后',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconsole.log(error, '网络繁忙，请稍后');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n};\n"],"sourceRoot":""}
>>>>>>> 1.1-mp
=======
{"version":3,"sources":["webpack:///E:/MB/newMB/modules/publishPurchase/publishPurchase.vue?acbe","webpack:///E:/MB/newMB/modules/publishPurchase/publishPurchase.vue?2745","webpack:///E:/MB/newMB/modules/publishPurchase/publishPurchase.vue?0c9a","webpack:///E:/MB/newMB/modules/publishPurchase/publishPurchase.vue?d678","webpack:///E:/MB/newMB/modules/publishPurchase/publishPurchase.vue"],"names":["components","navigation","contontEdit","contontPreview","data","loadEnd","routeParam","businessTemList","caiGouDetileData","listData","serverUrl","imageData","caiGouList","paraList","requList","imgList","userId","purcTitle","purcSpec","purcCount","purcUnit","purcPcode","purcCcode","purcCcodeStr","purcContent","purcDefault","purcInvo","purcFrei","purcEndTime","purcReceTime","purcState","purcType","onLoad","optionParams","$store","commit","console","log","option","urlCrypto","urlParams","sourceTemp","GET_PUBLISH","publishPurchase","getDate","getCaiGouTemplate","getBusinessList","shareEachPage","getPurchaseList","computed","watch","handler","a","b","deep","created","mounted","beforeDestroy","methods","setTempletType","setCaiGouList","e","params","uni","showLoading","title","UserId","getStorageSync","landRegistLG","JSON","parse","user","id","undefined","request","url","api2","method","header","Authorization","success","response","ret","hideLoading","showToast","icon","duration","fail","error","purcId","lookUserId","content","setNavigationBarTitle","setStorageSync","date","dateTime","day","hour","minute","map","items","index","itemsImage","imgUrl","push","Intro","createMan","shareTitle","shareIntro","shareImg","length","shareLink","origin","paramsNeed","type","isFlow","_this","setTimeout","pageStatus","clickBusinessPutIn","token"],"mappings":"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","file":"modules/publishPurchase/publishPurchase.js","sourcesContent":["import { render, staticRenderFns } from \"./publishPurchase.vue?vue&type=template&id=23f69091&\"\nimport script from \"./publishPurchase.vue?vue&type=script&lang=js&\"\nexport * from \"./publishPurchase.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('23f69091', component.options)\n    } else {\n      api.reload('23f69091', component.options)\n    }\n    module.hot.accept(\"./publishPurchase.vue?vue&type=template&id=23f69091&\", function () {\n      api.rerender('23f69091', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/MB/newMB/modules/publishPurchase/publishPurchase.vue\"\nexport default component.exports","export * from \"-!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./publishPurchase.vue?vue&type=template&id=23f69091&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./publishPurchase.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX.2.1.3.20190723\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./publishPurchase.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport contontEdit from './selectTemplate/contontEdit.vue';\nimport contontPreview from './selectTemplate/contontPreview.vue';\nimport navigation from '@/components/mbbo/navigation/navigation.vue';\nimport date from '@/static/mbcJs/dateTime.js';\nimport { mapMutations, mapGetters } from 'vuex';\nexport default {\n\tcomponents: {\n\t\tnavigation,\n\t\tcontontEdit,\n\t\tcontontPreview\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloadEnd: false, // 判断所有接口是否加载完成\n\t\t\trouteParam: null, // 路由参数；\n\t\t\tbusinessTemList: null,\n\t\t\tcaiGouDetileData: null,\n\t\t\tlistData: {\n\t\t\t\tserverUrl: \"https://img01.iambuyer.com/imgup/upLoad/fileUpload\",\n\t\t\t\timageData: []\n\t\t\t},\n\t\t\tcaiGouList: {\n\t\t\t\tparaList: [\n\t\t\t\t],\n\t\t\t\trequList: [\n\t\t\t\t],\n\t\t\t\timgList: [],\n\t\t\t\tuserId: 760,\n\t\t\t\tpurcTitle: '',\n\t\t\t\tpurcSpec: '',\n\t\t\t\tpurcCount: 1,\n\t\t\t\tpurcUnit: '',\n\t\t\t\tpurcPcode: '',\n\t\t\t\tpurcCcode: '',\n\t\t\t\tpurcCcodeStr: '', // 省市区页面展示\n\t\t\t\tpurcContent: '',\n\t\t\t\tpurcDefault: '0', // 不是默认模板\n\t\t\t\tpurcInvo: '1', // 默认含税\n\t\t\t\tpurcFrei: '1', // 默认含运费\n\t\t\t\tpurcEndTime: '',\n\t\t\t\tpurcReceTime: '0-0-0',\n\t\t\t\tpurcState: '',\n\t\t\t\tpurcType: '0' // 0简单采购 1参数采购\n\t\t\t} // 采购数据\n\t\t};\n\t},\n\tonLoad(optionParams) {\n\t\tthis.$store.commit('setPreviceCaiGou', false); // 更新setPreviceCaiGou\n\t\tthis.$store.commit('setImgList', this.listData); // 更新ssetImgList\n\t\tthis.$store.commit('setCaiGouList', this.caiGouList); // 跟新采购列表数据\n\t\t// option说明：\n\t\t// isMenu: 是否存在中间的横向导航\n\t\t// isFlow: 是否来自流量平台 0否， 1是\n\t\t// aiListTemp： 是否展示AI列表，1展示， 0不展示\n\t\t// orderType: 0定制订单 1标品订单\n\t\t// lookUserId: 用户id 选填 谁在看这个说明书 用于用户交互行为\n\t\t// sourceTemp： 从哪里进来的：0代表：模板列表，1代表：AI推送列表，2代表:发现列表，3代表：流量承载页， 4代表：我的说明书列表， 5代表.....\n\t\t// instrucId: 说明书id\n\t\t// purcId: 查看者id\n\t\t// creatorId: 说明书创建者\n\t\t// purcState： 说明书状态\n\t\tconsole.log('加载发布采购');\n\t\tlet option = this.urlCrypto(optionParams.urlParams, 1);\n\t\tconsole.log(option, '---------------加载发布采购参数-------------')\n\t\tthis.routeParam = option;\n\t\tif (option.sourceTemp === 0) {\n\t\t\tconsole.log('来源模板！');\n\t\t\tthis.caiGouList = this.GET_PUBLISH.publishPurchase.caiGouList;\n\t\t\tthis.caiGouList.purcEndTime = this.getDate(3, 'later'); // 报价截至时间，默认三天后又截至\n\t\t\tthis.getCaiGouTemplate();\n\t\t\tthis.getBusinessList();\n\t\t\tthis.shareEachPage(); // 分享\n\t\t} else if (option.sourceTemp === 4) {\n\t\t\tthis.getPurchaseList(option);\n\t\t} else if (option.sourceTemp === 2) {\n\t\t\tthis.getPurchaseList(option);\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters(['GET_PUBLISH', 'QUICKNAVCO'])\n\t},\n\twatch: {\n\t\tGET_PUBLISH: {\n\t\t\thandler(a, b) {\n\t\t\t\tthis.caiGouList = a.publishPurchase.caiGouList;\n\t\t\t},\n\t\t\tdeep: true\n\t\t}\n\t},\n\tcreated () {\n\t\t// this.shareEachPage(); // 分享\n\t},\n\tmounted () {\n\t},\n\tbeforeDestroy () {\n\t\tconsole.log('页面销毁之前缓存数据更新-----------setImgList、setCaiGouList');\n\t\tif (this.routeParam.sourceTemp === 2 || this.routeParam.sourceTemp === 3) {\n\t\t\t// 先去判断是否来自流量承载页，或者是平台\n\t\t\t// let parmas = {\n\t\t\t// \tuserId: this.routeParam.lookUserId,\n\t\t\t// \tid: this.routeParam.purcId,\n\t\t\t// \ttype: 0,\n\t\t\t// \tstopTime: this.userStopTime\n\t\t\t// };\n\t\t\t// this.platformAccount(this.routeParam.isFlow, 0, parmas, this.routeParam);\n\t\t\tthis.$store.commit('setPreviceCaiGou', false); // 更新setPreviceCaiGou\n\t\t}\n\t},\n\tmethods: {\n\t\t...mapMutations({\n\t\t\tsetTempletType: 'setTempletType',\n\t\t\tsetCaiGouList: 'setCaiGouList'\n\t\t}),\n\t\t// 拉去商家信息详情\n\t\tgetBusinessList(e){\n\t\t\tlet params = {}; // 请求总数居时 参数为空\n\t\t\tuni.showLoading({\n\t\t\t\t// 展示loading\n\t\t\t\ttitle: '加载中'\n\t\t\t});\n\t\t\tlet UserId = null;\n\t\t\tif (uni.getStorageSync('landRegist')) {\n\t\t\t\tlet landRegistLG = JSON.parse(uni.getStorageSync('landRegist'));\n\t\t\t\tUserId = landRegistLG.user.id;\n\t\t\t}\n\t\t\tif (e && e !== undefined) {\n\t\t\t\tUserId = e;\n\t\t\t}\n\t\t\tuni.request({\n\t\t\t\turl: this.api2 + '/rest-rp/instruc/userInfo?userId=' + UserId, //接口地址。\n\t\t\t\tdata: params,\n\t\t\t\tmethod: 'GET',\n\t\t\t\theader: {\n\t\t\t\t\tAuthorization: 'Bearer ' //将token放到请求头中\n\t\t\t\t},\n\t\t\t\tsuccess: response => {\n\t\t\t\t\tconsole.log(response.data, '---------------response.data--------------')\n\t\t\t\t\tif (response.data.ret === '200') {\n\t\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\t\tthis.businessTemList = response.data;\n\t\t\t\t\t\tthis.loadEnd = true; // 加载完成\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '网络开小差了，请稍后重试',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: error => {\n\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '网络繁忙，请稍后',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t});\n\t\t\t\t\tconsole.log(error, '网络繁忙，请稍后');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetPurchaseList(option) {\n\t\t\tconsole.log('获取采购信息数据！');\n\t\t\tconsole.log(option, '链接上的参数');\n\t\t\tthis.$store.commit('setPreviceCaiGou', true); // 更新setPreviceCaiGou\n\t\t\tlet params = {}; // 请求总数居时 参数为空\n\t\t\tuni.showLoading({\n\t\t\t\t// 展示loading\n\t\t\t\ttitle: '加载中'\n\t\t\t});\n\t\t\tuni.request({\n\t\t\t\turl: this.api2 + '/rest-rp/purc/selectInfo?id=' + option.purcId + \"&lookUserId=\" + option.lookUserId, //接口地址。\n\t\t\t\tdata: params,\n\t\t\t\tmethod: 'GET',\n\t\t\t\theader: {\n\t\t\t\t\tAuthorization: 'Bearer ' //将token放到请求头中\n\t\t\t\t},\n\t\t\t\tsuccess: response => {\n\t\t\t\t\tconsole.log(response.data, '---------------response.data--------------')\n\t\t\t\t\tif (response.data.ret === '200') {\n\t\t\t\t\t\tthis.caiGouDetileData = response.data.content;\n\t\t\t\t\t\tuni.setNavigationBarTitle({\n\t\t\t\t\t\t\ttitle: this.caiGouDetileData.purcTitle\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet content = response.data.content;\n\t\t\t\t\t\tthis.caiGouList.purcType = content.purcType;\n\t\t\t\t\t\tthis.caiGouList.paraList = content.paraList;\n\t\t\t\t\t\tthis.caiGouList.requList = content.requList;\n\t\t\t\t\t\tif (this.caiGouList.purcType === '0') { // 设置简单模板\n\t\t\t\t\t\t\tthis.$store.commit('setTempletType', 0);\n\t\t\t\t\t\t\tuni.setStorageSync('purcType', 0);\n\t\t\t\t\t\t\tthis.caiGouList.purcDefault = '0'\n\t\t\t\t\t\t} else if (this.caiGouList.purcType === '1') { // 设置普通模板\n\t\t\t\t\t\t\tthis.$store.commit('setTempletType', 1);\n\t\t\t\t\t\t\tuni.setStorageSync('purcType', 1);\n\t\t\t\t\t\t\tthis.caiGouList.purcDefault = '1'\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.caiGouList.id = content.id;\n\t\t\t\t\t\tthis.caiGouList.purcEndTime = date.dateTime('-', content.purcEndTime);\n\t\t\t\t\t\tthis.caiGouList.day = content.day; // 倒计时天数\n\t\t\t\t\t\tthis.caiGouList.hour = content.hour; //倒计时小时\n\t\t\t\t\t\tthis.caiGouList.minute =content.minute; // 倒计时分钟\n\t\t\t\t\t\tthis.caiGouList.purcCcodeStr = content.purcCcodeStr;\n\t\t\t\t\t\tthis.caiGouList.purcTitle = content.purcTitle;\n\t\t\t\t\t\tthis.caiGouList.purcContent = content.purcContent;\n\t\t\t\t\t\tif (content.purcReceTime === 0) {\n\t\t\t\t\t\t\tthis.caiGouList.purcReceTime = ''\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.caiGouList.purcReceTime = date.dateTime('-', content.purcReceTime);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet listData = {\n\t\t\t\t\t\t\tserverUrl: \"https://img01.iambuyer.com/imgup/upLoad/fileUpload\",\n\t\t\t\t\t\t\timageData: []\n\t\t\t\t\t\t};\n\t\t\t\t\t\tcontent.imgList.map((items, index)=>{\n\t\t\t\t\t\t\tif (items) {\n\t\t\t\t\t\t\t\tlet itemsImage={\n\t\t\t\t\t\t\t\t\timgUrl: items\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tlistData.imageData.push(itemsImage);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconsole.log(listData, '附件数据');\n\t\t\t\t\t\tthis.$store.commit('setImgList', listData); // 更新ssetImgList\n\t\t\t\t\t\tthis.caiGouList.imgList = content.imgList;\n\t\t\t\t\t\tconsole.log(this.caiGouList, '------------this.caiGouList-------------')\n\t\t\t\t\t\tthis.$store.commit('setCaiGouList', this.caiGouList); // 跟新采购列表数据\n\t\t\t\t\t\tthis.loadEnd = true; // 加载完成\n\t\t\t\t\t\t// 分享\n\t\t\t\t\t\tif (this.routeParam.purcState !== '1') {\n\t\t\t\t\t\t\tthis.shareEachPage(null, null, null, null, null); // 分享\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet Intro = `采购者:【${this.caiGouDetileData.createMan}】`;\n\t\t\t\t\t\t\tlet params = { // 分享参数\n\t\t\t\t\t\t\t\tshareTitle: this.caiGouDetileData.purcTitle, // 分享标题\n\t\t\t\t\t\t\t\tshareIntro: Intro, // 分享文字介绍\n\t\t\t\t\t\t\t\tshareImg: this.caiGouDetileData.imgList.length > 0 ? this.caiGouDetileData.imgList[0] : 'https://style.iambuyer.com/img/shareimg.png', // 分享图片\n\t\t\t\t\t\t\t\tshareLink: this.origin + '/#/modules/publishPurchase/publishPurchase?urlParams=' + this.urlCrypto(this.routeParam, 0)// 分享链接\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tlet paramsNeed = { // 计数参数\n\t\t\t\t\t\t\t\tuserId: this.routeParam.lookUserId,\n\t\t\t\t\t\t\t\tid: this.routeParam.purcId,\n\t\t\t\t\t\t\t\ttype: 1\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tlet isFlow = this.routeParam.isFlow;\n\t\t\t\t\t\t\tthis.shareEachPage(params, 1, paramsNeed, isFlow, this.routeParam); // 分享\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet _this = this;\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t_this.pageStatus = false,\n\t\t\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\t\t}, 150);\n\t\t\t\t\t\tthis.getBusinessList(content.userId);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '网络开小差了，请稍后重试',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: error => {\n\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '网络繁忙，请稍后',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t});\n\t\t\t\t\tconsole.log(error, '网络繁忙，请稍后');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tclickBusinessPutIn() {\n\t\t\tthis.$store.commit('setTempletType', 0);\n\t\t\tconsole.log('触发商机投放组件按钮');\n\t\t},\n\t\tgetCaiGouTemplate() {\n\t\t\tconsole.log('记载用户默认采购模板');\n\t\t\tif (uni.getStorageSync('landRegist')) {\n\t\t\t\tlet landRegistLG = JSON.parse(uni.getStorageSync('landRegist')); // 读取缓存的用户信息\n\t\t\t\tconsole.log(landRegistLG.user.id);\n\t\t\t\tlet params = {};\n\t\t\t\tuni.showLoading({\n\t\t\t\t\t// 展示loading\n\t\t\t\t\ttitle: '加载中'\n\t\t\t\t});\n\t\t\t\tuni.request({\n\t\t\t\t\turl: this.api2 + '/rest-rp/purc/getDefault?userId=' + landRegistLG.user.id, //接口地址。\n\t\t\t\t\tdata: params,\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theader: {\n\t\t\t\t\t\tAuthorization: 'Bearer ' + landRegistLG.token //将token放到请求头中\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: response => {\n\t\t\t\t\t\tif (response.data.ret === '200') {\n\t\t\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\t\t\tlet content = response.data.content;\n\t\t\t\t\t\t\tthis.caiGouList.purcType = content.purcType;\n\t\t\t\t\t\t\tthis.caiGouList.paraList = content.paraList;\n\t\t\t\t\t\t\tthis.caiGouList.requList = content.requList;\n\t\t\t\t\t\t\tif (this.caiGouList.purcType === '0') { // 设置简单模板\n\t\t\t\t\t\t\t\tthis.$store.commit('setTempletType', 0);\n\t\t\t\t\t\t\t} else if (this.caiGouList.purcType === '1') { // 设置普通模板\n\t\t\t\t\t\t\t\tthis.$store.commit('setTempletType', 1);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tthis.$store.commit('setCaiGouList', this.caiGouList); // 跟新采购列表数据\n\t\t\t\t\t\t\tthis.loadEnd = true; // 加载完成\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '网络开小差了，请稍后重试',\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: error => {\n\t\t\t\t\t\tuni.hideLoading(); // 隐藏 loading\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '网络繁忙，请稍后',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconsole.log(error, '网络繁忙，请稍后');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n};\n"],"sourceRoot":""}
>>>>>>> 1.1-mp
